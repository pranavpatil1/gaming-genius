<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Cyber Champion: Play on Gaming Genius</title>
		
		<link href="https://fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet" type="text/css">
		
		<script src="//code.jquery.com/jquery-1.10.2.js"></script>
		<script> 
			$(function(){
				$("#header").load("/header.html");
				$("#footer").load("/footer.html");
			});
		</script>
		<style>
			p {
				font-family: Inconsolata, sans-serif;
				font-size: 14px;
			}
			body {
				background-color:black;
			}
			#content {
				text-align: justify;
				width: 600px;
				margin: auto;
			}
			.loader {
				position: fixed;
				left: 0px;
				top: 0px;
				width: 100%;
				height: 100%;
				z-index: 9999;
				background: 50% 50% no-repeat rgb(1, 1, 1);
			}
		</style>
	</head>
	<body>
		<script type="text/javascript">
			$(window).load(function() {
				$(".loader").fadeOut("slow");
			})
		</script>
		<div class="loader"></div>
		<div id="header"></div>
		
		<div id="content">
			<h2>CYBER CHAMPION</h2>
			<p>Please take a <a href="https://goo.gl/forms/A6fDUy8h1j1iFPNq1">quick survey</a> to help us improve this game!</p>
			<canvas id="mycanvas"></canvas>
			<h3>Instructions</h3>
			<p>Cyber Champion is an interactive web-based game which teaches kids and teens the importance of cybersecurity.</p>
			<p>In each room, use the arrow keys to move around and press any key to enter a door. Each door corresponds to a decision, so read the scenario before continuing!</p>
			<p>You can enable or disable the tutorial from the settings page.</p>
		</div>
		
		<div id="footer"></div>
	</body>
	<script src="https://cdn.jsdelivr.net/processing.js/1.4.8/processing.min.js"></script> 
 
 <script>
    var sketchProc = function(processingInstance) {
        
        with (processingInstance) {
            
            size(600, 600);
{
/**

Check it out at:
http://gaming-genius.tk/games/cyber-champion.html 

DESCRIPTION:

This game is a vertically scrolling platformer and strategy game.

The goal of the game is to get all 9 successful endings and declare yourself CYBER CHAMPION!

INSTRUCTIONS:

 - Move with the arrow keys or WASD. 
 - Press any key to enter a door

Good luck!

Lag issues? Go to settings and turn graphics off (:

*/

// vvv  open that by clicking the blue arrows
  { //close it again by clicking the down arrow by the 2
    var awesome = true;
}

//click on the blue button with arrows to open it, or the little arrow next to the line numbers to open or close it

/**

Resources used:
 - https://heimdalsecurity.com/blog/cyber-security-tips/

*/

//sets the angleMode to radians because when this code is put into html, it only works in radians
angleMode = "radians";

//takes all of the degrees inputs and converts them into radians
var sine = function(input) {
    
    return sin((input) * (Math.PI / 180));
    
};

var cosine = function(input) {
    
    return cos((input) * (Math.PI / 180));
    
};

var rot = function(input) {
    
    return rotate((input) * (Math.PI / 180));
    
};

/**             ALL THE VARIABLES                 */

var page = "menu"; //game, end, menu, settings, achievements, pause?

var light = false;

var player = [240, 280, 25, 64, 0, 0, false, false, false, false, false]; //0x, 1y, 2w, 3h, 4xvel, 5yvel, 6up 7down 8left 9right (open), 10is jumping

//the blocks which the player interacts with
var blocks = [];

//the "wooden" posts that the player passes by in levels
var posts = [];

//the "wooden" posts that the player passes by in levels
var notify = [];

//the confetti for when you win
var confetti = [];

//how far into the running motion the player has gone
var amt = 0;

//how far up the player arms have gone
var amt1 = 0;

//if he ran so far
var ran = false;

//if a block is at the top
var top = false;

//the background "bkgrd"
var bkgrd = [];

//adds to the bkgrd array
for (var i = -50; i < 650; i += 50) {
    
    for (var j = -50; j < 450; j += 50) {
        
        bkgrd.push([i, j, random(-3, 3), random(-3, 3), 155 - dist(i*0.66 + 17.5, j, (player[0] + 17.5)*0.66, player[1])/1.6]);
        
    }
    
}

var font = "Century Gothic";
//"Century Gothic", "Rockwell", "monospace"

//is it the first frame, for loading a level?
var first = true;

//is the player on some door?
var onDoor = false;

//is the player on some post?
var onPost = false;

//is the screen transitioning to the end page?
var ending = false;

//when a level started
var startTime = 0;

//when game over
var endTime = 0;

//what it tells you (the learning bkgrd)
var endText = "";

//how far into the end transition it is
var endTransition = -100;

var levelTransition = 255;

//level scenario description
var txt = "";

//title text of a level
var ttxt = "";

//stores the values of a door which is selected (x, y, amount)
var door = [0, 0, 0];

//player original spot in a level (x, y)
var orig = [0, 0];

//array to hold all of the doors
var doors = [];

//which level the player is at
var levelNum = 0;

//previous level the player was at
var lastLevel = 0;

//deals with pressing and releasing keys

//becomes true when key is pressed, false when released
var keys = [];

keyPressed = function() {
    
    //remapping WASD to arrow key keyCodes
    if (keyCode === 65) { //A
        
        keys[37] = true; //left
        
    } else if (keyCode === 68) { //D
        
        keys[39] = true; //RIGHT
        
    } else if (keyCode === 87) { //W
        
        keys[38] = true; //UP
        
    } else if (keyCode === 83) { //S
        
        keys[40] = true; //DOWN
        
    } else {
        
        keys[keyCode] = true; //if not just WASD, then normal
        
    }
    
};

keyReleased = function() {
    
    //if on game page and player is at a door
    //not clicking WASD or arrow keys
        if (page === "game" & onDoor & !keys[37] & !keys[38] & !keys[39] & !keys[40] & !keys[65] & !keys[68] & !keys[87] & !keys[83]) {
            
            //checks which door the player is at
            var x = 0;
            
            //goes through doors
            for (var i in doors) {
                
                //finds the equivalent one
                if (doors[i][0] === door[0] & doors[i][1] === door[1]) {
                    
                    x = i;
                    
                }
                
            }
            
            lastLevel = levelNum; //reset last level
            
            //changes level, resets
            levelNum = doors[x][3];
            first = true;
            levelTransition = 255;
            
        }
    
    //same thing but false on release
    if (keyCode === 65) {
        
        keys[37] = false;
        
    } else if (keyCode === 68) {
        
        keys[39] = false;
        
    } else if (keyCode === 87) {
        
        keys[38] = false;
        
    } else if (keyCode === 83) {
        
        keys[40] = false;
        
    } else {
        
        keys[keyCode] = false;
        
    }
    
};

//deals with image making
background(0, 0, 0, 0); //sets a clear background

fill(33, 33, 33); //light blue background
noStroke();
/*
rect(0, 0, 40, 39);
*/
fill(92, 148, 148); //darker blue bricks
pushMatrix();
translate(0, 0);
//draws all the "bricks"
rect(0, 0, 5, 7);
rect(10, 0, 15, 7);
rect(30, 0, 15, 7);

rect(0, 10, 14, 7);
rect(19, 10, 15, 7);
rect(38, 10, 2, 7);

rect(0, 20, 5, 7);
rect(10, 20, 15, 7);
rect(30, 20, 15, 7);

rect(0, 30, 14, 7);
rect(19, 30, 15, 7);
rect(38, 30, 2, 7);

popMatrix();
var dblockImage = get(0, 0, 40, 40); //turns main block into image

//deals with image making
background(0, 0, 0, 0); //sets a clear background

fill(147, 204, 196); //light blue background
noStroke();

rect(0, 0, 40, 40);

fill(27, 152, 168); //darker blue bricks

//draws all the "bricks"
rect(3, 0, 15, 2);
rect(22, 0, 15, 2);
rect(0, 5, 10, 7);
rect(14, 5, 15, 7);
rect(33, 5, 7, 7);

rect(3, 15, 15, 7);
rect(22, 15, 15, 7);
rect(0, 25, 10, 7);
rect(14, 25, 15, 7);
rect(33, 25, 7, 7);
rect(3, 35, 15, 5);
rect(22, 35, 15, 5);

var lblockImage = get(0, 0, 40, 40); //turns main block into image

background(0, 0, 0, 0); //clears background

var v = vertex; //sets v to vertex for ease of use

pushMatrix();

translate(5, 5); //moves it out (the top layer extends on sides)

noStroke();
fill(255, 255, 255);
beginShape(); //a kind of snowy shape

v(-3, 0);
v(0, -2);
v(40, -2);
v(43, 0);
v(42, 4);
v(0, 4);
v(-2, 4);

endShape(CLOSE);

popMatrix();

var dtopImage = get(0, 0, 50, 50); //gets 50x50 (5 Xtra on sides)

background(0, 0, 0, 0); //clears background

var v = vertex; //sets v to vertex for ease of use

pushMatrix();

translate(5, 5); //moves it out (the top layer extends on sides)

noStroke();
fill(255, 255, 255);
beginShape(); //a kind of snowy shape

v(-3, 0);
v(0, -2);
v(40, -2);
v(43, 0);
v(42, 6);
v(40, 5);
v(35, 7);
v(30, 5);
v(25, 7);
v(20, 5);
v(15, 7);
v(10, 5);
v(5, 7);
v(0, 5);
v(-2, 6);

endShape(CLOSE);

popMatrix();

var ltopImage = get(0, 0, 50, 50); //gets 50x50 (5 Xtra on sides)

/**

KEY for the maps array

- means nothing
0 means start spot
* means platform
# means door (usually 1, 2, or 3)

*/

//an array representing ALL THE LEVELS!
var maps = [
    
    [
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "-2-----0-----1-",
        "----------P----",
        "***---*********",
        "---------------"
        
    ], //0 - the beginning
    
    [
        
        "---------------",
        "-------------1-",
        "----------P----",
        "-------2-******",
        "---------------",
        "----3-***------",
        "---------------",
        "-0-***---------",
        "---------------",
        "***------------"
        
    ], //1 - started, what to do?
    
    [
        
        "---------------",
        "---------------",
        "-------------0-",
        "---------------",
        "-------**---***",
        "---------------",
        "---------------",
        "-1-------------",
        "----P----------",
        "*******--------",
        
    ], //2 - ENDING easy way out
    
    [
        
        "---1-------2---",
        "---------------",
        "--***-----***--",
        "---------------",
        "*-------------*",
        "---------------",
        "-*-----0-----*-",
        "---*-------*---",
        "------***------",
        
    ], //3 - browsing
    
    [
        
        "---------------",
        "------2-----0--",
        "---------------",
        "-----***---***-",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "-1-------------",
        "---------------",
        "***------------",
        "---------------"
        
    ], //4 - email, messaging
    
    [
        
        "---------------",
        "---------------",
        "-1-----------2-",
        "---------------",
        "***---------***",
        "-------0-------",
        "---**-----**---",
        "---------------",
        "-----*****-----",
        "---------------"
        
    ], //5 - gaming start
    
    [
        
        "--------------",
        "-----------1--",
        "----2---------",
        "----------***-",
        "---***--------",
        "--------**-----",
        "--------------",
        "--0--**-------",
        "***************",
        "***************",
        
    ], //6 - continue lag site
    
    [
        
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "-1-----0-------",
        "---------------",
        "***************",
        "***************",
        
    ], //7 - continue download END
    
    [
        
        "---------------",
        "---------------",
        "-----3---------",
        "---------------",
        "----****-------",
        "----------P----",
        "-1-----0-***-2-",
        "---------------",
        "***************",
        "***************",
        
    ], //8 - don't go to site, find new game, spammer
    
    [
        
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "-1-----0-------",
        "---------------",
        "***************",
        "***************",
        
    ], //9 - spam back - END
    
    [
        
        "------------0--",
        "---------------",
        "---************",
        "---------------",
        "---------------",
        "************---",
        "---------------",
        "--1------------",
        "---------------",
        "***************",
        
    ], //10 - ENDING pro reporter
    
    [
        
        "-2-----------1-",
        "---------------",
        "***---------***",
        "-------P-------",
        "-----*****-----",
        "-----*****-----",
        "---*********---",
        "*------0------*",
        "*-------------*",
        "***************",
        
    ], //11 - quit, find new game
    
    [
        
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "-1-----0-------",
        "---------------",
        "***************",
        "---------------"
        
    ], //12 - website with cheats - END
    
    [
        
        "-1-------------",
        "------------2--",
        "***---**-------",
        "-----------****",
        "-----------****",
        "--------*******",
        "--------*******",
        "-0---**********",
        "-----**********",
        "***************",
        "***************",
        
    ], //13 - keep trying 1
    
    [
        
        "---------------",
        "-------0-------",
        "---------------",
        "------***------",
        "---------------",
        "---------------",
        "-1-----------2-",
        "------***------",
        "****-------****",
        "****-------****"
        
    ], //14 - keep trying 2
    
    [
        
        "-------1-------",
        "---**----------",
        "**----***------",
        "**-------------",
        "****-----------",
        "----------**---",
        "-----****----**",
        "-------------**",
        "-----------****",
        "---**----------",
        "**----****-----",
        "**-------------",
        "****-----------",
        "----------**---",
        "-----****----**",
        "-------------**",
        "-----------****",
        "---**------****",
        "**----****-****",
        "**---------****",
        "****---0---****",
        "****-------****",
        "****-****--****",
        "****-****--****",
        "****-****--****",
        
    ], //15 - ENDING: not so naive
    
    [
        
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "-1-----0-------",
        "---------------",
        "***************",
        "---------------"
        
    ], //16 - give email to ad - END
    
    [
        
        "---1-----------",
        "---------------",
        "--***----------",
        "-------*-------",
        "---2-------*---",
        "-----------*---",
        "--***-----**---",
        "----------**---",
        "-----P---***---",
        "----**-0--**---",
        "----*-----**---",
        "----********---",
        
    ], //17 - closer look
    
    [
        
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "-1--*--0--*--2-",
        "---------------",
        "***---***---***",
        "---------------"
        
    ], //18 - gave email? give more info?
    
    [
        
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "-1-----0-------",
        "---------------",
        "***************",
        "---------------"
        
    ], //19 - gave credit info - END
    
    [
        
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "-1-----0-------",
        "---------------",
        "***************",
        "---------------"
        
    ], //20 - empty (in case additions are needed)
    
    [
        
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "-1-----0-------",
        "---------------",
        "***************",
        "---------------"
        
    ], //21 - empty (in case additions are needed)
    
    [
        
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "-1-----0-------",
        "---------------",
        "***************",
        "---------------"
        
    ], //22 - empty (in case additions are needed)
    
    [
        
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "-1-----0-------",
        "---------------",
        "***************",
        "---------------"
        
    ], //23 - empty (in case additions are needed)
    
    [
        
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "-1-----0-------",
        "---------------",
        "***************",
        "---------------"
        
    ], //24 - empty (in case additions are needed)
    
    [
        
        "-------2-------",
        "-----*---*-----",
        "-*---*****---*-",
        "-*----***----*-",
        "-**---------**-",
        "--**-------**--",
        "---**--0--**---",
        "----**---**----",
        "*----*****----*",
        "**-----------**",
        "-**---------**-",
        "--****---****--",
        "-------1-------",
        "---------------",
        "----*******----",
        
    ], //25 - add friend?
    
    [
        
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "-1-----0-------",
        "---------------",
        "***************",
        "---------------"
        
    ], //26 - added friend - END
    
    [
        
        "---------------",
        "-------0-------",
        "---------------",
        "--***********--",
        "---------------",
        "---------------",
        "--1------------",
        "---------------",
        "*******--------",
        "---------------",
        "-----------P---",
        "--------*******",
        "--------*******",
        "--*************",
        "---------------",
        "-----------2---",
        "---------------",
        "*************--",
        "*************--"
        
    ], //27 - fill up about section
    
    [
        
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "-1-----0-------",
        "---------------",
        "***************",
        "---------------"
        
    ], //28 - phone number, where live - END
    
    [
        
        "---------------",
        "---------------",
        "-------0-------",
        "------***------",
        "---------------",
        "---------------",
        "----*-----*----",
        "--1-*--3--*-2--",
        "----*-----*----",
        "-****-***-****-",
        "---------------"
        
    ], //29 - post what?
    
    [
        
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "-1-----0-------",
        "---------------",
        "***************",
        "---------------"
        
    ], //30 - away home, where live - END
    
    [
        
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "-1-----0-------",
        "---------------",
        "***************",
        "---------------"
        
    ], //31 - SSN, credit card - END
    
    [
        
        "------------2--",
        "---------------",
        "------*---*****",
        "----P----------",
        "----*----------",
        "----*----------",
        "----***--------",
        "----------**---",
        "---------------",
        "-1--***---0---*",
        "--------------*",
        "***-------*****"
        
    ], //32 - email with link
    
    [
        
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "-1-----0-------",
        "---------------",
        "***************",
        "---------------"
        
    ], //33 - click link - END
    
    [
        
        "-0-------------",
        "---------------",
        "*****----------",
        "---------------",
        "---------------",
        "---------------",
        "*******--------",
        "---------------",
        "---------------",
        "---------------",
        "*********------",
        "---------------",
        "--2------------",
        "---------------",
        "***********----",
        "---------------",
        "--1------------",
        "--------------",
        "*************--",
        "---------------",
        "--3------------",
        "---------------",
        "***************",
        
    ], //34 - cyberbully!
    
    [
        
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "-1-----0-------",
        "---------------",
        "***************",
        "---------------"
        
    ], //35 - click link - END
    
    [
        
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "-1------------0",
        "---------------",
        "***-*-*-*-*-*-*",
        "---------------"
        
    ], //36 - ENDING: well advised
    
    [
        
        "-------0-------",
        "---------------",
        "------***------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "*----*---*----*",
        "*----*---*----*",
        "*----*---*----*",
        "*----*---*----*",
        "*----*---*----*",
        "*----*---*----*",
        "*----*---*----*",
        "*----*---*----*",
        "*----*---*----*",
        "*----*--------*",
        "*----*-2------*",
        "*----*--------*",
        "*----*****----*",
        "*--------*----*",
        "*--------*----*",
        "*--------*----*",
        "*--------*----*",
        "*----*---*----*",
        "*----*---*----*",
        "*----*****----*",
        "*-------------*",
        "*-----------1-*",
        "*-------------*",
        "*----**********",
        "*----*---------",
        "*----*---------",
        "*----*---------",
        "*----*---------",
        "*----*---------",
        "*----*---------",
        "*-3--*---------",
        "*----*---------",
        "****-*---------",
        
    ], //37 - take video call?
    
    [
        
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "-1-----0-------",
        "---------------",
        "***************",
        "---------------"
        
    ], //38 - start call - END
    
    [
        
        "--1---------2--",
        "---------------",
        "-***-------***-",
        "---------------",
        "------***------",
        "---------------",
        "---**-----**---",
        "---------------",
        "**-----------**",
        "**-----0-----**",
        "***************",
        
    ], //39 - angry post?
    
    [
        
        "---------------",
        "-----*-0-*-----",
        "-----*---*-----",
        "-----*---*-----",
        "-----*---*-----",
        "-----*---*-----",
        "---------*-----",
        "---------*-----",
        "*--------*-----",
        "*--------*-----",
        "******---*-----",
        "-----*---*-----",
        "-----*---*-----",
        "-----*---*-----",
        "-----*---*-----",
        "-----*---*-----",
        "-----*---------",
        "-----*---------",
        "-----*-----1--*",
        "-----*--------*",
        "-----*---******",
        "-----*---*-----",
        "-----*---*-----",
        "-----*---*-----",
        "-----*---*-----",
        "-----*---*-----",
        "-----*---*-----",
        "-----*---*-----",
        "---------------",
        "---------------",
        "---------------",
        "-----*****-----"
        
    ], //40 - ENDING: better safe than sorry
    
    [
        
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "-1-----0-------",
        "---------------",
        "***************",
        "---------------"
        
    ], //41 - wrote mean things - END
    
    [
        
        "-1-----------2-",
        "---------------",
        "***---------***",
        "---------------",
        "-----*---*-----",
        "---------------",
        "---*---0---*---",
        "---------------",
        "-----*****-----",
        "---------------"
        
    ], //42 - post friend's pictures
    
    [
        
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "-1-----0-------",
        "---------------",
        "***************",
        "---------------"
        
    ], //43 - post pictures w/o consent - END
    
    [
        
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "-1-----0-----2-",
        "---------------",
        "***************",
        "---------------"
        
    ], //44 - friend no want pics public
    
    [
        
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "-1-----0-------",
        "---------------",
        "***************",
        "---------------"
        
    ], //45 - ENDING: a true friend
    
    [
        
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "-1-----0-------",
        "---------------",
        "***************",
        "---------------"
        
    ], //46 - post pictures w/o consent - END
    
    [
        
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "-1-----0-------",
        "---------------",
        "***************",
        "---------------"
        
    ], //47 - empty (in case additions are needed)
    
    [
        
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "-1-----0-------",
        "---------------",
        "***************",
        "---------------"
        
    ], //48 - empty (in case additions are needed)
    
    [
        
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "-1-----0-------",
        "---------------",
        "***************",
        "---------------"
        
    ], //49 - empty (in case additions are needed)
    
    [
        
        "-----------2---",
        "---------------",
        "----**-**-***--",
        "----*----------",
        "----*---------*",
        "----*----------",
        "----*-------**-",
        "----*----------",
        "--1-*--0--**---",
        "----*----------",
        "-****--*-------"
        
    ], //50 - go to free music site?
    
    [
        
        "-------------1-",
        "---------------",
        "------------***",
        "---------------",
        "-2-------**----",
        "-----**--------",
        "***------------",
        "---------------",
        "----*----------",
        "---------------",
        "------*--------",
        "---------------",
        "--------*----0",
        "---------------",
        "----------*****",
        
    ], //51 - what to do with usb?
    
    [
        
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "-1-----0-------",
        "---------------",
        "***************"
        
    ], //52 - plugged in - END
    
    [
        
        "--1----0----2--",
        "---------------",
        "-***-*-*-*-***-",
        "-***-------***-",
        "-***-------***-",
        "-***-------***-",
        "-***-------***-",
        "-***-------***-",
        
    ], //53 - get antivirus?
    
    [
        
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "-1-----------2-",
        "---------------",
        "****---0---****",
        "---------------",
        "-----*****-----"
        
    ], //54 - click on antivirus pop up?
    
    [
        
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "-1-----0-------",
        "---------------",
        "***************"
        
    ], //55 - clicked pop up - END
    
    [
        
        "-2-------------",
        "---------------",
        "***------------",
        "***------------",
        "*************--",
        "---------------",
        "--------------*",
        "--------------*",
        "--*************",
        "---------------",
        "*--------------",
        "*--------------",
        "*************--",
        "---------------",
        "0-1-----------*",
        "--------------*",
        "***************"
        
    ], //56 - download updates?
    
    [
        
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "-1-----0-------",
        "---------------",
        "***************"
        
    ], //57 - no updates - END
    
    [
        
        "---------------",
        "---------------",
        "---------------",
        "--------******-",
        "----------*----",
        "-------*--*----",
        "----------*-***",
        "--0---*---*----", 
        "----------*----",
        "*****-----****-",
        "----------*----",
        "----------*--1-",
        "----------*----",
        "------------***",
        "---------------",
        "-------------2-",
        "---------------",
        "------------***",
        "---------------",
        "---------------",
        
    ], //58 - respond ransomware attacks?
    
    [
        
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "-1-----0-------",
        "---------------",
        "***************"
        
    ], //59 - do nothing - END
    
    [
        
        "---------------",
        "-------0-------",
        "---------------",
        "-*************-",
        "---------------",
        "---------------",
        "------*-*------",
        "------*-*------",
        "-----**-**-----",
        "-----**-**-----",
        "----***-***----",
        "----***-***----",
        "-3-****-****-2-",
        "---****-****---",
        "*******-*******",
        "*******-*******",
        "*******-*******",
        "*******-*******",
        "*******-*******",
        "----*-----*----",
        "----*-----*----",
        "----*-----*----",
        "----**-*-**----",
        "-----*-*-*-----",
        "-----*-*-*-----",
        "-----*-*-*-----",
        "-----*-*-*-----",
        "-------*-*-----",
        "---1---*-*-----",
        "-------*-*-----",
        "-*******-*-----",
        
    ], //60 - think virus?
    
    [
        
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "-1-----0-------",
        "---------------",
        "***************"
        
    ], //61 - restart - END
    
    [
        
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "-1-----0-------",
        "---------------",
        "***************"
        
    ], //62 - do nothing - END
    
    [
        
        "-------0-------",
        "---------------",
        "-------*-------",
        "---------------",
        "---------------",
        "---------------",
        "***-***-***-*--",
        "*---*-*-*-*-*--",
        "*---*-*-*-*-*--",
        "*---*-*-*-*-*--",
        "***-***-***-***",
        "---------------",
        "---------------",
        "-------1-------",
        "---------------",
        "***************"
        
    ], //63 - ENDING: antivirus
    
    [
        
        "---------------",
        "------------2--",
        "---------------",
        "-----------***-",
        "---------------",
        "--------*------",
        "---------------",
        "---------*-----",
        "---------------",
        "0----------*-1-",
        "-----------*---",
        "*---*---*******",
        
    ], //64 - asks you to download something weird
    
    [
        
        "-----*****-----",
        "-----*---*-----",
        "-----*-0-*-----",
        "-----*---*-----",
        "-----*---*-----",
        "-----*---*-----",
        "-----*---*-----",
        "-----*---*-----",
        "-----*---*-----",
        "-----*---*-----",
        "-----*---*-----",
        "-----*---*-----",
        "-----*-*-*-----",
        "-----*---*-----",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "-1-----------2-",
        "---------------",
        "***---------***"
        
    ], //65 - browser says its virus: update games?
    
    [
        
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "-1-----0-------",
        "---------------",
        "***************"
        
    ], //66 - no update games - END
    
    [
        
        "-------------1-",
        "---------------",
        "------------***",
        "---------------",
        "----------*----",
        "---------------",
        "--------*------",
        "---------------",
        "------*--------",
        "---------------",
        "----*----------",
        "---------------",
        "--*------------",
        "---------------",
        "*--------------",
        "---------------",
        "-**------------",
        "---------------",
        "----*----------",
        "---------------",
        "------*--------",
        "---------------",
        "--------*------",
        "---------------",
        "----------*----",
        "---------------",
        "------------*-0",
        "---------------",
        "--------------*",
        
    ], //67 - update, filler page
    
    [
        
        "---*-*-*-*-*-*-",
        "-1-------------",
        "---------------",
        "***-*-*-*-*-*-0",
        "---------------",
        "--------------*",
        "---*-*-*-*-*-**",
        "---------------",
        "*--------------",
        "*-*-*-*-*-*-*--",
        "---------------",
        "--------------*",
        "---*-*-*-*-*-**",
        "---------------",
        "*--------------",
        "*-*-*-*-*-*-*-*",
        
    ], //68 - ENDING: up to date
    
    [
        
        "-------0-------",
        "---------------",
        "-------*-------",
        "---------------",
        "---------------",
        "---------------",
        "-1-----------2-",
        "---------------",
        "***---------***",
        
    ], //69 - bank called!
    
    [
        
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "-1-----0-------",
        "---------------",
        "***************"
        
    ], //70 - gave password - END
    
    [
        
        "-----1---------",
        "--------**-----",
        "----***-----*--",
        "------------2--",
        "--------------*",
        "-----------****",
        "--------*------",
        "---------------",
        "----------*----",
        "---------------",
        "---------*-----",
        "------*--------",
        "---------------",
        "-------0*------",
        "---------------",
        "-------*-------"
        
    ], //71 - find old apps
    
    [
        
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "-1-----0-------",
        "---------------",
        "***************"
        
    ], //72 - leave them - END
    
    [
        
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "---------------",
        "-----*---------",
        "-1---*--*-----0",
        "-----*--*--*---",
        "***--*--*--*--*"
        
    ], //73 - ENDING: super clean!
    
    [
        
        "---------------",
        "-------0-------",
        "---------------",
        "-*************-",
        "---------------",
        "---------------",
        "------*-*------",
        "------*-*------",
        "-----**-**-----",
        "-----**-**-----",
        "----***-***----",
        "----***-***----",
        "-1-****-****-2-",
        "---****-****---",
        "*******-*******",
        "*******-*******",
        "*******-*******",
        "*******-*******",
        "*******-*******",
        "----*-----*----",
        "----*-----*----",
        "----*-----*----",
        "----**-*-**----",
        "-----*-*-*-----",
        "-----*-*-*-----",
        "-----*-*-*-----",
        "-----*-*-*-----",
        "-----*-*-*-----",
        "-----*-*-*-----",
        "-----*-*-*-----",
        "-----*-*-*-----",
        
    ], //74 - think virus? (no antivirus)
    
]; //and so 1300+ lines of level maps were created

//array for whether or not each level was accessed, and the type of level
var access = [];

//for every level, there is a value for if it was accessed
for (var i in maps) {
    
    access.push([false, 0]);
    
}

//global variable in drawMedal() function - if it shows achievement text when mouse hovered over
var displayText = false;

var levelDeaths = 0; //number of deaths in the current level
var maxDeaths = 0; //most deaths in one level

var badEnds = 0; //the number of different game over visited

var usePosts = true; //draw the posts?
var tutorial = true; //tutorial?
var stage = 0; //stage of tutorial
var stageT = 0; //last stage, timer

var lowGraphics = false; //use simpler graphics

var pmillis = 0;
var t = 0;

mouseReleased = function() {
    
    if (page === "menu") { //main menu
        
        //middle button
        if (dist(mouseX, mouseY, 300, 370) < 75) {
            
            ///game page
            page = "game";
            levelNum = 0;
            ending = false;
            endTransition = -100;
            first = true;
            
            levelTransition = 255;
            
        } else if (dist(mouseX, mouseY, 150, 370) < 50) {
            //left button
            
            page = "achievements";
            
            levelTransition = 255;
            
        } else if (dist(mouseX, mouseY, 450, 370) < 50) {
            //right button
            
            page = "settings";
            
            levelTransition = 255;
            
            //450, 50, 102
        } else if (mouseX > 470 & mouseX < 568 & mouseY > 550 & mouseY < 584) {
            
            light = !light;
			localStorage.setItem("cyberchampion_light", light.toString());
            
        }
        
    } else if (page === "game") {
        
        if (dist(mouseX, mouseY, 550, 50) < 20) {
            
            page = "pause"; //goes to pause page
            
        }
        
    } else if (page === "pause") {
        
        //pause menu, switches pages based on click
        if (mouseX > 200 & mouseX < 400 & mouseY > 280 & mouseY < 310) {
            
            page = "game"; //back to game
            levelTransition = 255;
            
        } else if (mouseX > 200 & mouseX < 400 & mouseY > 325 & mouseY < 355) {
            
            page = "game"; //back to beginning of game
            levelNum = 0;
            first = true;
            levelTransition = 255;
            
        } else if (mouseX > 200 & mouseX < 400 & mouseY > 370 & mouseY < 400) {
            
            page = "menu"; //back to menu
            levelTransition = 255;
            
        }
        
    } else if (page === "settings" | page === "achievements") {
        
        //back button for both of them
        if (mouseX > 20 & mouseX < 60 & mouseY > 20 & mouseY < 60) {
            
            page = "menu";
            levelTransition = 255;
            
        }
        if (page === "settings") {
            
            //switches variable values
            if (mouseX > 330 & mouseX < 420 & mouseY > 235 & mouseY < 265) {
                
                lowGraphics = !lowGraphics;
				localStorage.setItem("cyberchampion_lowGraphics", lowGraphics.toString());
                
            }
            if (mouseX > 330 & mouseX < 420 & mouseY > 285 & mouseY < 315) {
                
                usePosts = !usePosts;
				localStorage.setItem("cyberchampion_usePosts", usePosts.toString());
                
            }
            if (mouseX > 330 & mouseX < 420 & mouseY > 335 & mouseY < 365) {
                
                tutorial = !tutorial;
				localStorage.setItem("cyberchampion_tutorial", tutorial.toString())
                stage = 0;
                
            }
            
            //rotates text font
            if (mouseX > 460 & mouseX < 475 & mouseY > 192.5 & mouseY < 207.5) {
                
                if (font === "Century Gothic") {
                    
                    font = "Rockwell";
                    
                } else if (font === "Rockwell") {
                    
                    font = "monospace";
                    
                } else if (font === "monospace") {
                    
                    font = "Century Gothic";
                    
                }
                
            } else if (mouseX > 275 & mouseX < 290 & mouseY > 192.5 & mouseY < 207.5) {
                
                if (font === "Century Gothic") {
                    
                    font = "monospace";
                    
                } else if (font === "Rockwell") {
                    
                    font = "Century Gothic";
                    
                } else if (font === "monospace") {
                    
                    font = "Rockwell";
                    
                }
                
            }
            
        }
        
    } else if (page === "end") {
        
        if (mouseX > 100 & mouseX < 200 & mouseY > 550 & mouseY < 580) {
            
            page = "game"; //changes to game page
            levelNum = 0; //beginning
            
            //resets
            ending = false;
            endTransition = -100;
            first = true;
            
            levelTransition = 255;
            
        } else if (mouseX > 400 & mouseX < 500 & mouseY > 550 & mouseY < 580) {
            
            page = "menu"; //goes to main
            levelTransition = 255;
            
        } else if (mouseX > 240 & mouseX < 360 & mouseY > 550 & mouseY < 580) {
            
            page = "game"; //game page
            levelNum = lastLevel; //last level (another chance)
            
            //resets
            ending = false;
            endTransition = -100;
            first = true;
            
            levelTransition = 255;
            
        } 
        
    }
    
};

//function for drawing the player, given the x and y coordinates
var drawPlayer = function(x, y) {
    
    pushMatrix();
    
    if (lowGraphics & 1 !== 1) {
        
        //possibly???
        rect(x - 5, y, player[2] + 10, player[3]);
        
    } else {
        
        if (!player[10]) { //if its NOT jumping (running)
            
            amt += player[4]/2; //go through running stage based on how fast the player moves left/right 
            
        } else {
            
            amt = 269; //resets running sequence to start
            
        }
        
        //moves a little left and up
        translate(-5, 2);
        fill(255, 255, 255);
        
        if (abs(player[4]) > 0.5 | ((keys[LEFT] & player[8] === false) | (keys[RIGHT] & player[9] === false)) & abs(player[5]) > 0.6) { //if either the player is moving or is going right against a wall to the right or left against a wall to the left (for smoother movement!)
            
            pushMatrix();
            
            //translate to x and y (with additional movement)
            translate(-21 + x, -11 + y);
            scale(0.18); //scales it way down (i first made this WAY bigger)
            
            //remember everything is going to be coded significantly bigger than it appears!
            translate(40, -40);
            rot(10); //tilted forward to look a little more natural
            
            //if the player is facing left
            if (player[4] < 0 | (keys[LEFT] & player[8] === false)) {
                
                //deals with scaling and retranslating everything
                translate(-80, 80);
                rot(-20);
                translate(430, 15);
                scale(-1, 1);
                
            }
            
            strokeWeight(18);
            stroke(255, 255, 255);
            
            pushMatrix();
            
            translate(-38, 78);
            
            //resets arm position (when jumping in place)
            amt1 = 50;
            
            var wow = sine((amt + 90)*7);
            if (!player[10]) { //not jumping
                
                //only draws ONE arm
                line(250 - 50*cosine(wow*40) + 44, 100, 250 + 70*cosine(90 + wow*60), 100 + 70*sine(90 + wow*60));
                
                line(250 + 70*cosine(40 + wow*60) + 10, 
                100 + 70*sine(40 + wow*60) + 20, 
                250 + 70*cosine(90 + wow*60), 100 + 70*sine(90 + wow*60));
                
            } else { //jumping
                
                //draws both arms in a jumping motion
                line(250, 100, 300, 100);
                line(330, 50, 300, 100);
                
                line(250, 100, 200, 100);
                line(170, 150, 200, 100);
                
            }
            
            popMatrix();
            
            pushMatrix();
            
            translate(-38, 78);
            
            //draws the other arm (when not jumping)
            if (!player[10]) {
            
                line(250 - 50*cosine(sine((amt + 270)*7)*40) + 44, 100, 250 + 70*cosine(90 + sine((amt + 270)*7)*60), 100 + 70*sine(90 + sine((amt + 270)*7)*60));
                
                line(250 + 70*cosine(40 + sine((amt + 270)*7)*60) + 10, 
                100 + 70*sine(40 + sine((amt + 270)*7)*60) + 20, 
                250 + 70*cosine(90 + sine((amt + 270)*7)*60), 100 + 70*sine(90 + sine((amt + 270)*7)*60));
                
            }
            
            popMatrix();
            
            //head
            ellipse(218 + 70*cosine(sine(amt*7)*40) - 70, 137 - 40, 80, 80);
            
            //spine
            line(218, 261, 218 + 70*cosine(sine(amt*7)*40) - 70, 137);
            
            //legs
            
            line(218, 261, 218 + 70*cosine(70 - sine(amt*7)*20), 261 + 70*sine(70 - sine(amt*7)*20));
            
            line(218 + 70*cosine(70 - sine(amt*7)*20), 261 + 70*sine(70 - sine(amt*7)*20), 
            218 + 70*cosine(70 - sine(amt*7)*20) + 70*cosine(130 - sine(amt*7)*70), 
            261 + 70*sine(70 - sine(amt*7)*20) + 70*sine(130 - sine(amt*7)*70));
            
            line(218 + 70*cosine(70 - sine(amt*7)*20) + 70*cosine(130 - sine(amt*7)*70 - 10), 
            261 + 70*sine(70 - sine(amt*7)*20) + 70*sine(130 - sine(amt*7)*70 - 10), 
            218 + 70*cosine(70 - sine(amt*7)*20) + 70*cosine(130 - sine(amt*7)*70), 
            261 + 70*sine(70 - sine(amt*7)*20) + 70*sine(130 - sine(amt*7)*70));
            
            line(218, 261, 218 + 70*cosine(70 - sine((amt + 180)*7)*20), 261 + 70*sine(70 - sine((amt + 180)*7)*20));
            
            line(218 + 70*cosine(70 - sine((amt + 180)*7)*20), 261 + 70*sine(70 - sine((amt + 180)*7)*20), 
            218 + 70*cosine(70 - sine((amt + 180)*7)*20) + 70*cosine(130 - sine((amt + 180)*7)*70), 
            261 + 70*sine(70 - sine((amt + 180)*7)*20) + 70*sine(130 - sine((amt + 180)*7)*70));
            
            line(218 + 70*cosine(70 - sine((amt + 180)*7)*20) + 70*cosine(130 - sine((amt + 180)*7)*70 - 10), 
            261 + 70*sine(70 - sine((amt + 180)*7)*20) + 70*sine(130 - sine((amt + 180)*7)*70 - 10), 
            218 + 70*cosine(70 - sine((amt + 180)*7)*20) + 70*cosine(130 - sine((amt + 180)*7)*70), 
            261 + 70*sine(70 - sine((amt + 180)*7)*20) + 70*sine(130 - sine((amt + 180)*7)*70));
            
            popMatrix();
            
            //sets ran to true
            ran = true;
            
        } else { //the case he is still (left/right)
            
            //sets the running motion to 0
            amt = 0;
            
            amt1 = 50;
            
            if (player[10]) { //arms up if he's jumping
                
                amt1 = -30;
                
            }
            
            pushMatrix();
            
            translate(-21 + x, -11 + y); //translate to x and y
            scale(0.18); //resizing
            
            strokeWeight(18);
            stroke(255, 255, 255);
            fill(255);
            
            //head
            ellipse(218, 97, 80, 80);
            
            //body
            line(218, 127, 218, 295);
            
            //right leg
            line(248, 338, 218, 295);
            line(248, 338, 263, 390);
            
            //right foot
            line(275, 390, 263, 390);
            
            //left leg
            line(188, 338, 218, 295);
            line(188, 338, 173, 390);
            
            //left leg
            line(161, 390, 173, 390);
            
            //right arm
            line(218, 175, 218 + 55*cosine(amt1), 175 + 55*sine(amt1));
            line(218 + 55*cosine(amt1) + 50*cosine(amt1*1.5), 175 + 55*sine(amt1) + 50*sine(amt1*1.5), 218 + 55*cosine(amt1), 175 + 55*sine(amt1));
            
            //left arm
            line(218, 175, 218 + 55*cosine((180 - amt1)), 175 + 55*sine((180 - amt1)));
            line(218 + 55*cosine((180 - amt1)) + 50*cosine((180 - amt1*1.5)), 175 + 55*sine((180 - amt1)) + 50*sine((180 - amt1*1.5)), 218 + 55*cosine((180 - amt1)), 175 + 55*sine((180 - amt1)));
            
            
            popMatrix();
            
        }
        noStroke();
        
    }
    
    popMatrix();
    
};

var change = false;

var drawDoor = function(x, y, dark) {
    
    pushMatrix();
    
    translate(x, y);
    
    fill(255); //WHITE
    if (light) {
        
        fill(0, 225 + 30*sine(frameCount*3), 255); //fluctuating blue
        
    }
    if (dark) { //player approaches door
        
        fill(0, 0, 0, door[2]); //darken
        
    }
    
    //cosine, sine represents curve of door
    noStroke();
    beginShape();
    if (!lowGraphics) {
        
        if (dark) {
            
            vertex(30 + 31*cosine(180), 30 + 31*sine(180));
            vertex(30 + 31*cosine(200), 30 + 31*sine(200));
            vertex(30 + 31*cosine(220), 30 + 31*sine(220));
            vertex(30 + 31*cosine(240), 30 + 31*sine(240));
            vertex(30 + 31*cosine(260), 30 + 31*sine(260));
            vertex(30 + 31*cosine(280), 30 + 31*sine(280));
            vertex(30 + 31*cosine(300), 30 + 31*sine(300));
            vertex(30 + 31*cosine(320), 30 + 31*sine(320));
            vertex(30 + 31*cosine(340), 30 + 31*sine(340));
            vertex(30 + 31*cosine(360), 30 + 31*sine(360));
            
        } else {
            
            //top curve of door, not wanted in low graphics mode
            vertex(30 + 30*cosine(180), 30 + 30*sine(180));
            vertex(30 + 30*cosine(200), 30 + 30*sine(200));
            vertex(30 + 30*cosine(220), 30 + 30*sine(220));
            vertex(30 + 30*cosine(240), 30 + 30*sine(240));
            vertex(30 + 30*cosine(260), 30 + 30*sine(260));
            vertex(30 + 30*cosine(280), 30 + 30*sine(280));
            vertex(30 + 30*cosine(300), 30 + 30*sine(300));
            vertex(30 + 30*cosine(320), 30 + 30*sine(320));
            vertex(30 + 30*cosine(340), 30 + 30*sine(340));
            vertex(30 + 30*cosine(360), 30 + 30*sine(360));
            
        }
    } else {
        
        //simple top
        vertex(0, 0);
        vertex(60, 0);
        
    }
    
    vertex(60, 80);
    vertex(0, 80); //bottom of door
    
    endShape();
    
    popMatrix();
    
};

var drawBlock = function(x, y) {
    
    //draws the base block
    image((light ? lblockImage : dblockImage), x, y);
    
    //only if its the top block it will have the top part (top set true or false elsewhere)
    if (top) {
        
        image((light ? ltopImage : dtopImage), x - 5, y - 5);
    
    }
    
};

var drawMedal = function(x, y, size, gold, message, i) {
    
    noStroke();
    
    //if the mouse is on the medal, and wants to display text, and its gold (when achievement received)
    if (dist(mouseX, mouseY, x, y) < size*2 & displayText & gold) {
        
        //simple method of estimating text width when drawn
        var upper = 0;
        for (var i in message) {
            
            if (message[i] === message[i].toUpperCase()) {
                
                upper ++;
                
            }
            
        }
        
        var w = message.length*6 + upper*5;
        
        var h = 30;
        
        //draws rectangle around message
        fill(0, 0, 0);
        rect(295 - w/2, 545, w + 10, h + 10);
        fill(255, 255, 255);
        rect(300 - w/2, 550, w, h);
        
        fill(0);
        textSize(15);
        text(message, 300, 550 + h/2);
        
    }
    
    //if it doesnt want to display text
    if (!displayText) {
        
        var color2 = (!light ? color(100) : color(0));
        
        if (gold) {
            
            //dark on the achievements page if mouse hovers over
            color2 = (dist(mouseX, mouseY, x, y) < size*2 & gold & !(page === "game" | page === "end") ? color(161, 125, 40) : color(218, 165, 32)); //gold
            
        }
        
        //bright gold on game or end page (notifiation)
        fill((page === "game" | page === "end" ? color(218, 165, 32, notify[i][1]) : color2));
        
        pushMatrix();
        
        translate(x, y - size/2);
        scale(size/20);
        
        //code for the achievement star thing
        
        beginShape();
        vertex(15*cosine(15), 15*sine(15));
        vertex(20*cosine(33), 20*sine(33));
        vertex(15*cosine(51), 15*sine(51));
        vertex(20*cosine(69), 20*sine(69));
        vertex(15*cosine(87), 15*sine(87));
        vertex(20*cosine(105), 20*sine(105));
        vertex(15*cosine(123), 15*sine(123));
        vertex(20*cosine(141), 20*sine(141));
        vertex(15*cosine(159), 15*sine(159));
        vertex(20*cosine(177), 20*sine(177));
        vertex(15*cosine(195), 15*sine(195));
        vertex(20*cosine(213), 20*sine(213));
        vertex(15*cosine(231), 15*sine(231));
        vertex(20*cosine(249), 20*sine(249));
        vertex(15*cosine(267), 15*sine(267));
        vertex(20*cosine(285), 20*sine(285));
        vertex(15*cosine(303), 15*sine(303));
        vertex(20*cosine(321), 20*sine(321));
        vertex(15*cosine(339), 15*sine(339));
        vertex(20*cosine(357), 20*sine(357));
        
        vertex(10*cosine(357), 10*sine(357));
        vertex(10*cosine(339), 10*sine(339));
        vertex(10*cosine(321), 10*sine(321));
        vertex(10*cosine(303), 10*sine(303));
        vertex(10*cosine(285), 10*sine(285));
        vertex(10*cosine(267), 10*sine(267));
        vertex(10*cosine(249), 10*sine(249));
        vertex(10*cosine(231), 10*sine(231));
        vertex(10*cosine(213), 10*sine(213));
        vertex(10*cosine(195), 10*sine(195));
        vertex(10*cosine(177), 10*sine(177));
        vertex(10*cosine(159), 10*sine(159));
        vertex(10*cosine(141), 10*sine(141));
        vertex(10*cosine(123), 10*sine(123));
        vertex(10*cosine(105), 10*sine(105));
        vertex(10*cosine(87), 10*sine(87));
        vertex(10*cosine(69), 10*sine(69));
        vertex(10*cosine(51), 10*sine(51));
        vertex(10*cosine(33), 10*sine(33));
        vertex(10*cosine(15), 10*sine(15));
        vertex(10*cosine(357), 10*sine(357));
        vertex(20*cosine(357), 20*sine(357));
        
        endShape(CLOSE);
        
        //bottom ribbon
        beginShape();
        
        vertex(20*cosine(51), 20*sine(51));
        vertex(25*cosine(69), 25*sine(69));
        vertex(20*cosine(87), 20*sine(87));
        vertex(25*cosine(105), 25*sine(105));
        vertex(20*cosine(123), 20*sine(123));
        vertex(-11, 40);
        vertex(2, 30);
        vertex(14, 40);
        
        endShape(CLOSE);
        
        popMatrix();
        
    }
    
};

var arrow = function(x, y, size, flip, right) {
    
    pushMatrix();
    
    translate(x, y);
    scale(size/40);
    
    noStroke();
    
    //inverse colorings of outline
    if (!flip) {
        
        fill(255, 255, 255);
        
    } else {
        
        noFill();
        stroke(255, 255, 255);
        
    }
    rect(0, 0, 40, 40);
    
    //determines white or blue based on the flipped colors
    strokeCap(SQUARE);
    stroke(10, 41, 69);
    if (flip) {
        
        stroke(255, 255, 255);
        
    }
    strokeWeight(4);
    
    //direction of the triangle
    beginShape();
    if (right) {
        
        vertex(12, 10);
        vertex(26, 20);
        vertex(12, 30);
        
    } else {
        
        vertex(26, 10);
        vertex(12, 20);
        vertex(26, 30);
        
    }
    endShape();
    
    popMatrix();
    
};

var flip = function(x, y, size, t) {
    
    //the binary switch
    
    noFill();
    stroke(255);
    rect(x, y, size, size/3);
    
    //rectangle moved based upon test value
    fill(255);
    rect((t ? size/2 : 0) + x, y, size/2, size/3);
    
    //on and off text (sometimes covered by switch)
    textSize(13);
    textAlign(CENTER, CENTER);
    text("ON", x + size/4, y + size/6);
    text("OFF", x + 3*size/4, y + size/6);
    
};

noStroke();

// maxDeaths

if (localStorage.getItem("cyberchampion_usePosts") !== null) {
	
	usePosts = ("true" === localStorage.getItem("cyberchampion_usePosts"));
	
}
if (localStorage.getItem("cyberchampion_light") !== null) {
	
	light = ("true" === localStorage.getItem("cyberchampion_light"));
	
}
if (localStorage.getItem("cyberchampion_lowGraphics") !== null) {
	
	lowGraphics = ("true" === localStorage.getItem("cyberchampion_lowGraphics"));
	
}
if (localStorage.getItem("cyberchampion_maxDeaths") !== null) {
	
	maxDeaths = parseInt(localStorage.getItem("cyberchampion_maxDeaths"), 10);
	
}
if (localStorage.getItem("cyberchampion_badEnds") !== null) {
	
	badEnds = parseInt(localStorage.getItem("cyberchampion_badEnds"), 10);
	
}
if (localStorage.getItem("cyberchampion_access") !== null) {
	
	access = JSON.parse(localStorage.getItem("cyberchampion_access"));
	
}
if (localStorage.getItem("cyberchampion_tutorial") !== null) {
	
	tutorial = "true" === localStorage.getItem("cyberchampion_tutorial");
	
} else {
	localStorage.setItem("cyberchampion_tutorial", "true");
}

draw = function() {
    
    textFont(createFont(font));
    if (page === "menu") { //main menu page
        
        noStroke();
        background(light ? color(10, 41, 69) : color(0));
        
        textAlign(CENTER, CENTER);
        
        fill(255, 255, 255);
        textSize(47);
        text("cyber champion", 300, 160); //main title
        
        textSize(20);
        text("LIGHT MODE", 520, 527);
        strokeWeight(1);
        flip(470, 550, 102, light);
        noStroke();
        
        pushMatrix();
        
        translate(0, -30);
        
        //big circle buttons
        ellipse(300, 400, 150, 150);
        ellipse(150, 400, 100, 100);
        ellipse(450, 400, 100, 100);
        
        //play triangle button in center
        fill(light ? color(10, 41, 69) : color(0));
        triangle(280, 430, 332, 400, 280, 370);
        
        beginShape();
        
        //code for the settings gear
        
        //definitely didn't write this by hand, I wrote code to output this
        vertex(450 + 25*cosine(0.00), 400 + 25*sine(0.00));
        vertex(450 + 25*cosine(11.25), 400 + 25*sine(11.25));
        vertex(450 + 32*cosine(22.50), 400 + 32*sine(22.50));
        vertex(450 + 32*cosine(33.75), 400 + 32*sine(33.75));
        vertex(450 + 25*cosine(45.00), 400 + 25*sine(45.00));
        vertex(450 + 25*cosine(56.25), 400 + 25*sine(56.25));
        vertex(450 + 32*cosine(67.50), 400 + 32*sine(67.50));
        vertex(450 + 32*cosine(78.75), 400 + 32*sine(78.75));
        vertex(450 + 25*cosine(90.00), 400 + 25*sine(90.00));
        vertex(450 + 25*cosine(101.25), 400 + 25*sine(101.25));
        vertex(450 + 32*cosine(112.50), 400 + 32*sine(112.50));
        vertex(450 + 32*cosine(123.75), 400 + 32*sine(123.75));
        vertex(450 + 25*cosine(135.00), 400 + 25*sine(135.00));
        vertex(450 + 25*cosine(146.25), 400 + 25*sine(146.25));
        vertex(450 + 32*cosine(157.50), 400 + 32*sine(157.50));
        vertex(450 + 32*cosine(168.75), 400 + 32*sine(168.75));
        vertex(450 + 25*cosine(180.00), 400 + 25*sine(180.00));
        vertex(450 + 25*cosine(191.25), 400 + 25*sine(191.25));
        vertex(450 + 32*cosine(202.50), 400 + 32*sine(202.50));
        vertex(450 + 32*cosine(213.75), 400 + 32*sine(213.75));
        vertex(450 + 25*cosine(225.00), 400 + 25*sine(225.00));
        vertex(450 + 25*cosine(236.25), 400 + 25*sine(236.25));
        vertex(450 + 32*cosine(247.50), 400 + 32*sine(247.50));
        vertex(450 + 32*cosine(258.75), 400 + 32*sine(258.75));
        vertex(450 + 25*cosine(270.00), 400 + 25*sine(270.00));
        vertex(450 + 25*cosine(281.25), 400 + 25*sine(281.25));
        vertex(450 + 32*cosine(292.50), 400 + 32*sine(292.50));
        vertex(450 + 32*cosine(303.75), 400 + 32*sine(303.75));
        vertex(450 + 25*cosine(315.00), 400 + 25*sine(315.00));
        vertex(450 + 25*cosine(326.25), 400 + 25*sine(326.25));
        vertex(450 + 32*cosine(337.50), 400 + 32*sine(337.50));
        vertex(450 + 32*cosine(348.75), 400 + 32*sine(348.75));
        
        endShape(CLOSE);
        
        //code for the achievement star thing
        
        beginShape();
        
        vertex(150 + 15*cosine(15), 390 + 15*sine(15));
        vertex(150 + 20*cosine(33), 390 + 20*sine(33));
        vertex(150 + 15*cosine(51), 390 + 15*sine(51));
        vertex(150 + 20*cosine(69), 390 + 20*sine(69));
        vertex(150 + 15*cosine(87), 390 + 15*sine(87));
        vertex(150 + 20*cosine(105), 390 + 20*sine(105));
        vertex(150 + 15*cosine(123), 390 + 15*sine(123));
        vertex(150 + 20*cosine(141), 390 + 20*sine(141));
        vertex(150 + 15*cosine(159), 390 + 15*sine(159));
        vertex(150 + 20*cosine(177), 390 + 20*sine(177));
        vertex(150 + 15*cosine(195), 390 + 15*sine(195));
        vertex(150 + 20*cosine(213), 390 + 20*sine(213));
        vertex(150 + 15*cosine(231), 390 + 15*sine(231));
        vertex(150 + 20*cosine(249), 390 + 20*sine(249));
        vertex(150 + 15*cosine(267), 390 + 15*sine(267));
        vertex(150 + 20*cosine(285), 390 + 20*sine(285));
        vertex(150 + 15*cosine(303), 390 + 15*sine(303));
        vertex(150 + 20*cosine(321), 390 + 20*sine(321));
        vertex(150 + 15*cosine(339), 390 + 15*sine(339));
        vertex(150 + 20*cosine(357), 390 + 20*sine(357));
        
        endShape(CLOSE);
        
        //bottom ribbon
        beginShape();
        
        vertex(150 + 20*cosine(51), 390 + 20*sine(51));
        vertex(150 + 25*cosine(69), 390 + 25*sine(69));
        vertex(150 + 20*cosine(87), 390 + 20*sine(87));
        vertex(150 + 25*cosine(105), 390 + 25*sine(105));
        vertex(150 + 20*cosine(123), 390 + 20*sine(123));
        vertex(139, 430);
        vertex(152, 420);
        vertex(164, 430);
        
        endShape(CLOSE);
        
        //inside of the settings gear
        fill(255, 255, 255);
        ellipse(450, 400, 30, 30);
        
        //inside of the settings gear
        fill(255, 255, 255);
        ellipse(150, 390, 20, 20);
        
        popMatrix();
        
    } else if (page === "settings") { //main menu page
        
        //may be filled with settings
        background(light ? color(10, 41, 69) : color(0));
        
        //back button (values not set default to false in PJS)
        arrow(20, 20, 40);
        
        textAlign(CENTER, CENTER);
        
        textSize(40);
        text("settings", 300, 80);
        
        textSize(16);
        text(font.toUpperCase(), 375, 200);
        
        textAlign(RIGHT, CENTER);
        
        textSize(25);
        text("FONT", 225, 200);
        text("REMOVE LAG", 225, 250);
        text("DISPLAY POSTS", 225, 300);
        text("TUTORIAL", 225, 350);
        
        //arrow buttons to change font
        arrow(275, 192.5, 15, true);
        arrow(460, 192.5, 15, true, true);
        
        //switches for graphics, posts, tutorial
        flip(330, 235, 90, lowGraphics);
        flip(330, 285, 90, usePosts);
        flip(330, 335, 90, tutorial);
        
    } else if (page === "achievements") { //main menu page
        
        //may be filled with achievements
        background(light ? color(10, 41, 69) : color(0));
        
        fill(255, 255, 255);
        arrow(20, 20, 40);
        
        fill(255, 255, 255);
        textSize(40);
        text("achievements", 300, 80);
        
        //starts without text
        displayText = false;
        
        //draws all the medals, first time without text, second time without medal
        for (var i = 0; i < 2; i ++) {
        
            //top row
            drawMedal(100, 175, 18, access[2][0], "ENDING: Easy Way Out");
            drawMedal(200, 175, 18, access[10][0], "ENDING: Pro Reporter");
            
            drawMedal(300, 175, 18, access[36][0], "ENDING: Well Advised");
            
            drawMedal(400, 175, 18, access[63][0], "ENDING: Antivirus");
            drawMedal(500, 175, 18, access[73][0], "ENDING: Super Clean");
            
            //bottom row
            drawMedal(150, 250, 18, access[15][0], "ENDING: Not So Naive");
            
            drawMedal(250, 250, 18, access[40][0], "ENDING: Better Safe Than Sorry");
            drawMedal(350, 250, 18, access[45][0], "ENDING: A True Friend");
            
            drawMedal(450, 250, 18, access[68][0], "ENDING: Up To Date!");
            
            //needs all the endings
            drawMedal(300, 435, 80, access[2][0] & access[10][0] & access[36][0] & access[63][0] & access[73][0] & access[15][0] & access[40][0] & access[45][0] & access[68][0], "CYBER CHAMPION!");
            
            
            //next row, for falling off of a level
            drawMedal(120, 400, 18, (maxDeaths >= 5 ? true : false), "Fall off the same level 5 times");
            drawMedal(75, 450, 18, (maxDeaths >= 10 ? true : false), "Fall off the same level 10 times");
            drawMedal(165, 450, 18, (maxDeaths >= 50 ? true : false), "Fall off the same level 50 times");
            
            //next row, for losing
            drawMedal(480, 400, 18, (badEnds >= 1 ? true : false), "Lose for the first time");
            drawMedal(435, 450, 18, (badEnds >= 5 ? true : false), "Lose 5 different ways");
            drawMedal(525, 450, 18, (badEnds >= 20 ? true : false), "Lose 20 different ways");
            
            displayText = true; //displays text in 2nd loop run
            
        }
        
    } else if (page === "end") { //the game over page when you make a bad move
        
        //dark
        background(0);
        
        //everything fades in
        textSize(40);
        fill(255, 255, 255, (frameCount - endTime)*10);
        textAlign(CENTER, CENTER);
        text("GAME OVER", 300, 75);
        
        //button backgrounds
        rect(100, 550, 100, 30);
        rect(400, 550, 100, 30);
        rect(240, 550, 120, 30);
        
        //text set on game page when you lose
        textAlign(LEFT, TOP);
        textSize(17);
        text(endText, 25, 135, 550, 450); //the main text
        
        textAlign(CENTER, CENTER);
        fill(0, 0, 0);
        textSize(14);
        text("MAIN MENU", 450, 565);
        text("PLAY AGAIN", 150, 565);
        text("BACK ONE STEP", 300, 565);
        
        //goes through all the notifications
        for (var i in notify) {
            
            //estimates message width
            var upper = 0;
            for (var j in notify[i][0]) {
                
                if (notify[i][0][j] === notify[i][0][j].toUpperCase()) {
                    
                    upper ++;
                    
                }
                
            }
            
            var w = notify[i][0].length*8 + upper*2.5;
            
            textSize(18);
            
            //gives it a background
            fill(255, 255, 255, notify[i][1]);
            rect(300 - w/2 - 20, 20, w + 40, 40);
            
            //x, y, size, gold, message
            drawMedal(300 - w/2 + 8, 40, 20, true, "", i);
            
            //notification text
            fill(0, 0, 0, notify[i][1]);
            text(notify[i][0], 320, 40);
            
            //will fade away
            notify[i][1] -= 2;
            
            //gets rid of it if faded away
            if (notify[i][1] < 0) {
                
                notify.splice(i, 1);
                
            }
            
        }
        
    } else if (page === "pause") {
        
        noStroke();
        
        fill(0, 94, 85, 0.5); //slight background
        rect(0, 0, width, height); //covers the entire thing
        
        fill(light ? 28 : 94, 93, 94, 20); //light blue, slowly fades in
        rect(120, 180, 360, 240);
        
        fill(255, 255, 255, 20);
        textAlign(CENTER, CENTER);
        textSize(35);
        text("PAUSED", 300, 230);
        
        //draws buttons
        rect(200, 280, 200, 30);
        rect(200, 325, 200, 30);
        rect(200, 370, 200, 30);
        
        //button text
        fill(0, 0, 0, 100);
        textSize(18);
        
        if (font !== "Century Gothic") { //others fonts are small
            
            textSize(19);
            
        }
        
        text("CONTINUE\n\nRESTART\n\nMENU", 300, 340);
        
    } else if (first) {
        
        //clear arrays
        while (doors.length > 0) {
            
            doors.pop();
            
        }
        while (blocks.length > 0) {
            
            blocks.pop();
            
        }
        while (posts.length > 0) {
            
            posts.pop();
            
        }
        
        //go through maps array
        for (var i = 0; i < maps[levelNum].length; i ++) {
            
            for (var j = 0; j < maps[levelNum][i].length; j ++) {
                
                var item = maps[levelNum][i][j]; //takes value
                var x = j*40;
                var y = 400 - (maps[levelNum].length - i)*40; //reverse y value because of vertically scrolling UP
                
                if (item === "*") { //normal block
                    
                    blocks.push([x, y, 40, 40]);
                    
                } else if (item === "0") { //player start
                    
                    player = [x, y, player[2], player[3], 0, 0, false, false, false, false, false];
                    orig = [x, y]; //can reset to this
                    
                    amt = 0; //RESETS VALUES
                    amt1 = 50;
                    
                } else if (item === "P") {
                    
                    posts.push([x, y]);
                    
                    //goes through each specific level
                    //defines post values
                    switch (levelNum) {
                        
                        case 0:
                            posts[posts.length - 1].push("THE BASICS");
                            posts[posts.length - 1].push("Each room has a situation and your job is to choose what decision to make. Every choice has a consequence, so be careful!\n\nEach door is a decision. Use the arrow keys to move the player to a door and see what that decision is.\n\nClick any key to enter a door when you are next to it.");
                            break;
                        case 1:
                            posts[posts.length - 1].push("POSTS");
                            posts[posts.length - 1].push("You'll find these wooden posts around the cyber world. They can give you lots of good tips!\n\nWatch out for them, they can be very helpful.");
                            break;
                        case 2:
                            posts[posts.length - 1].push("NO COMPUTER");
                            posts[posts.length - 1].push("You can't be hacked!\n\n\n          |    |\n        \\_____/\n\n\nMaybe you could even play outside...");
                            break;
                        case 8:
                            posts[posts.length - 1].push("PII");
                            posts[posts.length - 1].push("PII is any Personally Identifiable Information. Never, ever share it!\n\nTYPES OF PII:\n - Birthday\n - Cell Phone Number\n - Social Security Number\n - Financial information.");
                            break;
                        case 11:
                            posts[posts.length - 1].push("ANTIVIRUS");
                            posts[posts.length - 1].push("Antiviruses (AV) are programs that detect and remove viruses from your computer.\n\nGOOD ANTIVIRUSES:\n - 360 Total Security\n - Windows Defender\n - Malwarebytes");
                            break;
                        case 17:
                            posts[posts.length - 1].push("AD BLOCKING");
                            posts[posts.length - 1].push("Ad blocking help you by blocking intrusive advertisements.\n\nGOOD ADBLOCKS:\n - Adblock Plus\n - HTTPS Everywhere");
                            break;
                        case 27:
                            posts[posts.length - 1].push("FIREWALL");
                            posts[posts.length - 1].push("A firewall is the best way to keep hackers out. It's like building a virtual wall around your computer, hackers can't get in!\n\nAlways make sure your firewall is enabled!");
                            break;
                        case 32:
                            posts[posts.length - 1].push("PASSWORDS");
                            posts[posts.length - 1].push("Putting together a few words and substituting numbers and symbols in for letters is a great way to create passwords.\n\nRemember to update passwords at least every few months. Don't use the same password across accounts.\n\nthis1saGreatp@ssword!! or 3asyT0rem3mber!");
                            break;
                        default:
                            posts[posts.length - 1].push("");
                            posts[posts.length - 1].push("");
                            break;
                        
                    }
                    
                } else if (item !== "-") { //not empty space
                    
                    //goes through each levelnum
                    //adds specific doors (label and position)
                    switch (levelNum) {
                        
                        case 0:
                            
                            if (item === "1") {
                                
                                doors.push([x, y, "Start using it", 1]);
                                
                            } else {
                                
                                doors.push([x, y, "Leave it alone", 2]);
                                
                            }
                            
                            break;
                        case 1:
                            
                            if (item === "1") {
                                
                                doors.push([x, y, "Browse through different websites", 3]);
                                
                            } else if (item === "2") {
                                
                                doors.push([x, y, "Email / Social Media", 4]);
                                
                            } else {
                                
                                doors.push([x, y, "Gaming", 5]);
                                
                            }
                            
                            break;
                        case 2:
                            
                            doors.push([x, y, "THE BEGINNING", 0]);
                            
                            break;
                        case 3:
                            
                            if (item === "1") {
                                
                                doors.push([x, y, "YEAH!!", 50]);
                                
                            } else {
                                
                                doors.push([x, y, "Sounds dangerous... I'm out.", 1]);
                                
                            }
                            
                            break;
                        case 4:
                            
                            if (item === "1") {
                                
                                doors.push([x, y, "Sign me up!", 25]);
                                
                            } else {
                                
                                doors.push([x, y, "Social life? No thanks.", 1]);
                                
                            }
                            
                            break;
                        case 5:
                            
                            if (item === "1") {
                                
                                doors.push([x, y, "Get out of there!", 8]);
                                
                            } else {
                                
                                doors.push([x, y, "Keep going. It just has a lot to load.", 6]);
                                
                            }
                            
                            break;
                        case 6:
                            
                            if (item === "1") {
                                
                                doors.push([x, y, "Get out! The internet is a dangerous place!", 8]);
                                
                            } else {
                                
                                doors.push([x, y, "Download the game. Your friends were talking about it. You gotta.", 7]);
                                
                            }
                            
                            break;
                        case 7:
                            
                            doors.push([x, y, "end", 0]);
                            
                            break;
                        case 8:
                            
                            if (item === "1") {
                                
                                doors.push([x, y, "Report him. That will make sure doesn't mess with anyone else.", 10]);
                                
                            } else if (item === "2") {
                                
                                doors.push([x, y, "What could go wrong? Everybody else will thank you after he leaves!", 9]);
                                
                            } else {
                                
                                doors.push([x, y, "Just leave the game. You've been playing for a while anyway.", 11]);
                                
                            }
                            
                            break;
                        case 9:
                            
                            doors.push([x, y, "end", 0]);
                            
                            break;
                        case 10:
                            
                            doors.push([x, y, "THE BEGINNING", 0]);
                            
                            break;
                        case 11:
                            
                            if (item === "1") {
                                
                                doors.push([x, y, "Keep trying! Perseverance is key!!!", 13]);
                                
                            } else {
                                
                                doors.push([x, y, "It's a great game, and you want to beat it. What's the harm in looking up some cheats?", 12]);
                                
                            }
                            
                            break;
                        case 12:
                            
                            doors.push([x, y, "end", 0]);
                            
                            break;
                        case 13:
                            
                            if (item === "1") {
                                
                                doors.push([x, y, "Keep going!!!", 14]);
                                
                            } else {
                                
                                doors.push([x, y, "It's just a game, nobody is being harmed! Hacking seems like an okay option!", 12]);
                                
                            }
                            
                            break;
                        case 14:
                            
                            if (item === "1") {
                                
                                doors.push([x, y, "Take a closer look, this could be good...", 17]);
                                
                            } else {
                                
                                doors.push([x, y, "GET OUT OF THERE CLOSE ALL TABS SHUT DOWN YOUR COMPUTER THIS IS NOT A DRILL", 15]);
                                
                            }
                            
                            break;
                        case 15:
                            
                            doors.push([x, y, "THE BEGINNING", 0]);
                            
                            break;
                        case 16:
                            
                            doors.push([x, y, "end", 0]);
                            
                            break;
                        case 17:
                            
                            if (item === "1") {
                                
                                doors.push([x, y, "It's just your name and email. No harm in giving that away...", 18]);
                                
                            } else {
                                
                                doors.push([x, y, "Just giving away one million dollars? Just close it.", 15]);
                                
                            }
                            
                            break;
                        case 18:
                            
                            if (item === "1") {
                                
                                doors.push([x, y, "There is no gain without sacrifice.", 19]);
                                
                            } else {
                                
                                doors.push([x, y, "Too risky! It's just a million dollars 😢", 16]);
                                
                            }
                            
                            break;
                        case 19:
                            
                            doors.push([x, y, "end", 0]);
                            
                            break;
                        case 25:
                            
                            if (item === "1") {
                                
                                doors.push([x, y, "Accept the friend request, just another step to popularity.", 26]);
                                
                            } else {
                                
                                doors.push([x, y, "No thanks, he could be a creep or something.", 27]);
                                
                            }
                            
                            break;
                        case 26:
                            
                            doors.push([x, y, "end", 0]);
                            
                            break;
                        case 27:
                            
                            if (item === "1") {
                                
                                doors.push([x, y, "Your phone number, where you live... Your friends need to know!", 28]);
                                
                            } else {
                                
                                doors.push([x, y, "Things you like, maybe where you go to school...", 29]);
                                
                            }
                            
                            break;
                        case 28:
                            
                            doors.push([x, y, "end", 0]);
                            
                            break;
                        case 29:
                            
                            if (item === "1") {
                                
                                doors.push([x, y, "Where you are, your address (for a party you're planning), other people's news.", 30]);
                                
                            } else if (item === "2") {
                                
                                doors.push([x, y, "Only the important stuff: Selfies with your new credit card, Social Security Number, if it's not personal, then why would you post it?!", 31]);
                                
                            } else {
                                
                                doors.push([x, y, "Personal accomplishments, where you went for vacation last month, a little bit here and there...", 32]);
                                
                            }
                            
                            break;
                        case 30:
                            
                            doors.push([x, y, "end", 0]);
                            
                            break;
                        case 31:
                            
                            doors.push([x, y, "end", 0]);
                            
                            break;
                        case 32:
                            
                            if (item === "1") {
                                
                                doors.push([x, y, "Sure, there's no harm in just clicking a link", 33]);
                                
                            } else {
                                
                                doors.push([x, y, "Nope! That link could take me somewhere bad!!!", 34]);
                                
                            }
                            
                            break;
                        case 33:
                            
                            doors.push([x, y, "end", 0]);
                            
                            break;
                        case 34:
                            
                            if (item === "1") {
                                
                                doors.push([x, y, "You get them back by saying mean things back. They deserve it!", 35]);
                                
                            } else if (item === "2") {
                                
                                doors.push([x, y, "You tell your parents right away and hope they can deal with it.", 36]);
                                
                            } else {
                                
                                doors.push([x, y, "You take a screenshot of the messages they sent and report them for cyberbullying. Finally, you block them.", 37]);
                                
                            }
                            
                            break;
                        case 35:
                            
                            doors.push([x, y, "end", 0]);
                            
                            break;
                        case 36:
                            
                            doors.push([x, y, "THE BEGINNING", 0]);
                            
                            break;
                        case 37:
                            
                            if (item === "1") {
                                
                                doors.push([x, y, "Sure...", 38]);
                                
                            } else if (item === "2") {
                                
                                doors.push([x, y, "Nope, not going to happen. Maybe tomorrow.", 39]);
                                
                            } else {
                                
                                doors.push([x, y, "Email your friend to ensure it's him.", 40]);
                                
                            }
                            
                            break;
                        case 38:
                            
                            doors.push([x, y, "end", 0]);
                            
                            break;
                        case 39:
                            
                            if (item === "1") {
                                
                                doors.push([x, y, "Yeah, your friends will know how you feel!", 41]);
                                
                            } else {
                                
                                doors.push([x, y, "Probably should delete it...", 42]);
                                
                            }
                            
                            break;
                        case 40:
                            
                            doors.push([x, y, "THE BEGINNING", 0]);
                            
                            break;
                        case 41:
                            
                            doors.push([x, y, "end", 0]);
                            
                            break;
                        case 42:
                            
                            if (item === "1") {
                                
                                doors.push([x, y, "Yeah! The world will know how awesome you and your friends are.", 43]);
                                
                            } else {
                                
                                doors.push([x, y, "Ask first!", 44]);
                                
                            }
                            
                            break;
                        case 43:
                            
                            doors.push([x, y, "end", 0]);
                            
                            break;
                        case 44:
                            
                            if (item === "1") {
                                
                                doors.push([x, y, "Better not. You don't want to make your friend mad", 45]);
                                
                            } else {
                                
                                doors.push([x, y, "You can't NOT post it!", 46]);
                                
                            }
                            
                            break;
                        case 45:
                            
                            doors.push([x, y, "THE BEGINNING", 0]);
                            
                            break;
                        case 46:
                            
                            doors.push([x, y, "end", 0]);
                            
                            break;
                        case 50:
                            
                            if (item === "1") {
                                
                                doors.push([x, y, "Free things are what keep me going in this crazy world. LET'S GO!", 64]);
                                
                            } else {
                                
                                doors.push([x, y, "Sounds illegal. No thanks.", 51]);
                                
                            }
                            
                            break;
                        case 51:
                            
                            if (item === "1") {
                                
                                doors.push([x, y, "It could have something bad like a virus. Better to leave it alone.", 53]);
                                
                            } else {
                                
                                doors.push([x, y, "It could have some cool stuff on it! Why not?!", 52]);
                                
                            }
                            
                            break;
                        case 52:
                            
                            doors.push([x, y, "end", 0]);
                            
                            break;
                        case 53:
                            
                            if (item === "1") {
                                
                                doors.push([x, y, "No need! Hackers can't get me.", 54]);
                                
                            } else {
                                
                                doors.push([x, y, "Sure, you'll be more safe.", 56]);
                                
                            }
                            
                            break;
                        case 54:
                            
                            if (item === "1") {
                                
                                doors.push([x, y, "Click a pop up. Not the best idea.", 74]);
                                
                            } else {
                                
                                doors.push([x, y, "Well, I do need an antivirus...", 55]);
                                
                            }
                            
                            break;
                        case 55:
                            
                            doors.push([x, y, "end", 0]);
                            
                            break;
                        case 56:
                            
                            if (item === "1") {
                                
                                doors.push([x, y, "Updates? No thanks. I'm fine with what I have. Acceptance is a virtue.", 57]);
                                
                            } else {
                                
                                doors.push([x, y, "There's probably a good reason they have updates. Patience is key.", 58]);
                                
                            }
                            
                            break;
                        case 57:
                            
                            doors.push([x, y, "end", 0]);
                            
                            break;
                        case 58:
                            
                            if (item === "1") {
                                
                                doors.push([x, y, "There's nothing really important to worry about. It's fine.", 59]);
                                
                            } else {
                                
                                doors.push([x, y, "Back it up! Those hackers can't beat you.", 60]);
                                
                            }
                            
                            break;
                        case 59:
                            
                            doors.push([x, y, "end", 0]);
                            
                            break;
                        case 60:
                            
                            if (item === "1") {
                                
                                doors.push([x, y, "Just run the antivirus. Easy enough.", 63]);
                                
                            } else if (item === "2") {
                                
                                doors.push([x, y, "Just restart the computer. It can't hurt you anymore.", 61]);
                                
                            } else {
                                
                                doors.push([x, y, "Let it be, it's probably nothing.", 62]);
                                
                            }
                            
                            break;
                        case 74:
                            
                            if (item === "1") {
                                
                                doors.push([x, y, "Just restart the computer. It can't hurt you anymore.", 61]);
                                
                            } else {
                                
                                doors.push([x, y, "Let it be, it's probably nothing.", 62]);
                                
                            }
                            
                            break;
                        case 61:
                            
                            doors.push([x, y, "end", 0]);
                            
                            break;
                        case 62:
                            
                            doors.push([x, y, "end", 0]);
                            
                            break;
                        case 63:
                            
                            doors.push([x, y, "THE BEGINNING", 0]);
                            
                            break;
                        case 64:
                            
                            if (item === "1") {
                                
                                doors.push([x, y, "Why not? Music is music.", 65]);
                                
                            } else {
                                
                                doors.push([x, y, "That doesn't look like a song... No thanks.", 69]);
                                
                            }
                            
                            break;
                        case 65:
                            
                            if (item === "1") {
                                
                                doors.push([x, y, "I need my phone to be updated!", 67]);
                                
                            } else {
                                
                                doors.push([x, y, "Definitely not worth it.", 66]);
                                
                            }
                            
                            break;
                        case 66:
                            
                            doors.push([x, y, "end", 0]);
                            
                            break;
                        case 67:
                            
                            doors.push([x, y, "UPDATES COMPLETED!", 68]);
                            
                            break;
                        case 68:
                            
                            doors.push([x, y, "THE BEGINNING", 0]);
                            
                            break;
                        case 69:
                            
                            if (item === "1") {
                                
                                doors.push([x, y, "AHHHHH! Take the password!", 70]);
                                
                            } else {
                                
                                doors.push([x, y, "That's funny. It's probably fake.", 71]);
                                
                            }
                            
                            break;
                        case 70:
                            
                            doors.push([x, y, "end", 0]);
                            
                            break;
                        case 71:
                            
                            if (item === "1") {
                                
                                doors.push([x, y, "Clean them up!", 73]);
                                
                            } else {
                                
                                doors.push([x, y, "Nah, your phone has enough space.", 72]);
                                
                            }
                            
                            break;
                        case 72:
                            
                            doors.push([x, y, "end", 0]);
                            
                            break;
                        case 73:
                            
                            doors.push([x, y, "THE BEGINNING", 0]);
                            
                            break;
                    }
                    //this took 600+ lines of brute force
                    
                }
                
            }
            
        }
        
        //checks which type of door its going into
        var type = 1;
        for (i in doors) {
            
            if (doors[i][2] === "end") {
                
                type = 2;
                
            } else if (doors[i][2] === "THE BEGINNING") {
                
                type = 3;
                
            }
            
        }
        
        //updates access array
        access[levelNum] = [true, type];
		localStorage.setItem("cyberchampion_access", JSON.stringify(access));
        
        //temporary variable for checking if a new amount of bad endings
        var temp = 0;
        for (var i in access) {
            
            //if accessed and its a bad ending
            if (access[i][0] & access[i][1] === 2) {
                
                temp ++;
                
            }
            
        }
        
        //if the temporary variable is wasnt what badends was, then it has increased, notification should come
        if (temp === 1 & badEnds !== temp) {
            
            notify.push(["ACHIEVEMENT: Lose for the first time", 500]);
            
        } else if (temp === 5 & badEnds !== temp) {
            
            notify.push(["ACHIEVEMENT: Lose in 5 different ways", 500]);
            
        } else if (temp === 20 & badEnds !== temp) {
            
            notify.push(["ACHIEVEMENT: Lose in 5 different ways", 500]);
            
        }
        
        badEnds = temp;
		localStorage.setItem("cyberchampion_badEnds", badEnds.toString());
        
        levelDeaths = 0;
        
        //goes through levels
        //sets a description for the level
        txt = "";
        switch (levelNum) {
            
            case 0:
                txt = "After weeks of begging, your parents have bought you your first computer. The possibilities are endless! \n\nWhat do you do?";
                break;
            case 1:
                txt = "Now the fun begins! What do you want to do with this incredible resource?";
                break;
            case 2:
                txt = "Well, that was boring....";
                break;
            case 3:
                txt = "The internet is a dangerous place, even if you're just browsing. Do you accept the challenge?";
                break;
            case 4:
                txt = "Technology has the power to strengthen your social life. Do you set up an email and facebook page? This will allow you to you can send messages to your friends and post things.";
                break;
            case 5:
                txt = "You decide to download this awesome game your friend was talking about. You have no idea where to get it, so you just google it.\n\nYou click on the first result. You notice it's taking a long time to load. What do you do?";
                break;
            case 6:
                txt = "A little bit of patience and the site loads. You scroll through the site and find the download button hidden in an awkward spot. The entire site seems funky, but you don't want to give up now. Do you continue?";
                break;
            case 7:
                txt = "The download happens surprisingly fast and your computer sends you to a weird site. You close that, but when you try and run the game. ";
                break;
            case 8:
                txt = "You find an online multiplayer game with different teams and a chat so you can talk to each other to strategize.\n\nSoon, a new player joins the game, and he's starts spamming the chats with randomness!\n\nYou realize he might go away if you spam back, give him a taste of his own medicine! What do you do?";
                break;
            case 10:
                txt = "Reporting him is the best thing you can do. You could also politely ask that person to stop. Remember, there's a person on the other side of this game.";
                break;
            case 11:
                txt = "You leave that game and find a new, single-player game.\n\nThis is a really cool game and you're playing it for a while when you make it to a level that you just can't beat! You realize this could take you hours to beat.\n\nWhat do you do?";
                break;
            case 13:
                txt = "You're getting a little sick of this level. You've tried it in the morning, after lunch, and before dinner, without success.\n\nYou just can't quit this game, though! Hacks are still an option...";
                break;
            case 14:
                txt = "A few days later, you beat the level and move on. You celebrate, jumping around. Why not? You finally did it!\n\nWhile you were celebrating, an advertisement popped up on your screen. You realize the ad says \"Congratulations! You've won...\"\n\nIt's an interesting advertisement... What do you do?";
                break;
            case 15:
                txt = "That advertisement never saw you coming...";
                break;
            case 17:
                txt = "You were redirected to a new page. You're asked simply for your name and email. Seems trustable enough, doesn't it?";
                break;
            case 18:
                txt = "Now, you're being asked for your credit card information. Initially, you don't like the sound of that, but then you realize, how else will they give you your money?!";
                break;
            case 25:
                txt = "You fill up all your contacts and add all your friends on Facebook. You get a friend request from someone you don't know. They don't have anything on their profile, but you don't see much harm in adding them as your friend.";
                break;
            case 27:
                txt = "Now that your account is setup, you decide to fill up your \"About\" section, so your friends know it's you. What do you add?";
                break;
            case 29:
                txt = "Now that your bio is done, your friends can find your profile and know for sure that it's you! You haven't posted anything yet, but now you're excited. What kinds of things do you post?";
                break;
            case 32:
                txt = "You get an email from one of your friends with a link to some page. Do you open it? You don't recognize the link.";
                break;
            case 34:
                txt = "You delete the email and move on. You get a message from one of the people you know from school. They seemed fairly nice at school, but they start sending you mean and hurtful messages. You can't take much more, what do you do?";
                break;
            case 36:
                txt = "Your parents help you deal with the cyberbully and the school even gets involved...";
                break;
            case 37:
                txt = "Facebook can decide what they want to do with that account, but they can't bother you anymore. Another friend is asking you for a video call. You're tired after a long day, but think it might be fun. Do you accept?";
                break;
            case 39:
                txt = "You're having so much trouble with the cyberbully and you want to get some of that anger out. You start a writing a angry post targeting one of the kids at school who was bothering you. You're not sure if you want to send it. Should you?";
                break;
            case 40:
                txt = "Turns out the \"friend\" messaging you wasn't really him, it was somebody who had created a duplicate account. You dodged a bullet there...";
                break;
            case 42:
                txt = "You didn't post that, but you remember that you went to your friends house and have a few pictures that you could post. Should you post them?";
                break;
            case 44:
                txt = "Your friend doesn't want you to post the picture. You didn't notice how awkward they looked because YOU looked so fabulous (like always)! Should you still post the photos?";
                break;
            case 45:
                txt = "The sacrifice of awesomeness, for a friend...";
                break;
            case 50:
                txt = "Your friend tells you about this great new site where you can play free songs and movies! Do you check it out?";
                break;
            case 51:
                txt = "You warn your friend about the site and decide to take a walk around.\n\nYou find a USB, and rush back to your computer. Should you plug it in?";
                break;
            case 53:
                txt = "After all the trouble you've been having staying secure, you think you might want to get an antivirus to become more secure.";
                break;
            case 54:
                txt = "You're just browsing around and a pop up appeares on your computer telling you that your computer has a virus and needs an antivirus!\n\nIt's like the world WANTS you to get an antivirus. What do you do?";
                break;
            case 56:
                txt = "Your computer asks you if you want to download the latest updates for your operating system.\n\nYou know this will take a long time and you can probably get away without doing it. Is it worth it to update?";
                break;
            case 58:
                txt = "You've heard about people losing all their data to ransomware attacks, and you want to be secure! What do you want to do?";
                break;
            case 60:
                txt = "After all this trouble, you become suspicious a virus has made it onto your computer. The fan is running on high, and your browser keeps crashing.\n\nWhat's the best move?";
                break;
            case 74:
                txt = "After all this trouble, you become suspicious a virus has made it onto your computer. The fan is running on high, and your browser keeps crashing.\n\nWhat's the best move?";
                break;
            case 63:
                txt = "There was actually a virus on your computer. Don't worry, the antivirus took care of it...";
                break;
            case 64:
                txt = "You go to the site and download a song, and your browser asks you if you want to download \"test_prototype1.7.exe.\"\n\nWeird.... Do you still download it?";
                break;
            case 65:
                txt = "You try and play the \"song\" but your browser tells you it's a virus! You delete it right away. You got lucky there!\n\nYou go to your phone to play some games and see that your phone needs to update. Your phone is always slow, so this could take a LONG TIME. Is it worth the wait?";
                break;
            case 67:
                txt = "You start the updates and wait around... This could be a while.";
                break;
            case 68:
                txt = "With these updates, your phone is a little more secure...";
                break;
            case 69:
                txt = "A call brings you away from your computer. It's the bank! They need you password and credit card number urgently to reset your account or else you'll lose lots of money!\n\nYou're freaking out. Do you give them your info?";
                break;
            case 71:
                txt = "You find a BUNCH of old apps on your phone that you haven't used in months!\n\nShould you delete them? You have enough space to leave them and not worry about it.";
                break;
            case 73:
                txt = "Less apps means less potential vulnerabilities...";
                break;
        }
        
        //sets a title for the level, for good end/major rooms
        ttxt = "";
        switch (levelNum) {
            
            case 0:
                ttxt = "THE BEGINNING";
                break;
            case 2:
                ttxt = "ENDING: Easy Way Out";
                break;
            case 5:
                ttxt = "GAMING";
                break;
            case 10:
                ttxt = "ENDING: Pro Reporter";
                break;
            case 15:
                ttxt = "ENDING: Not So Naive";
                break;
            case 36:
                ttxt = "ENDING: Well Advised";
                break;
            case 40:
                ttxt = "ENDING: Better Safe Than Sorry";
                break;
            case 45:
                ttxt = "ENDING: A True Friend";
                break;
            case 63:
                ttxt = "ENDING: Antivirus";
                break;
            case 68:
                ttxt = "ENDING: Up To Date";
                break;
            case 73:
                ttxt = "ENDING: Super Clean";
                break;
                
        }
        
        first = false;
        
        //resets values
        startTime = frameCount;
        door[2] = 0; //how dark it is
        
    }
    
    //game page is separate from all the rest so that it goes in the same frame as first
    if (page === "game" & !first) {
        
        if (light) {
            
            background(7, 25, 41);
            
        } else {
            
            background(0);
            
        }
        
        noStroke();
        
        if (!lowGraphics) {
            
            //draws the background blocks if not low graphics
            for (var i in bkgrd) {
                
                noStroke();
                
                //sets the opacity/size to distance from player
                //accounts for translate
                bkgrd[i][4] = 200 - dist((bkgrd[i][0] + 17.5)*0.66, bkgrd[i][1] + 17.5 - (-constrain(player[1] - 200, -10000, -50) - 50), (player[0] + player[2]/2)*0.66, player[1] + player[3]/2)/1.94;
                
                //updates width and height
                bkgrd[i][2] = 2*cosine(frameCount*3 + i/5);
                bkgrd[i][3] = 3*sine(frameCount*3.3 + i/1.1);
                
                //draws
                fill(40, 40, 40, bkgrd[i][4]);
                
                if (light) {
                    
                    fill(35, 205, 217, bkgrd[i][4]);
                    
                }
                
                rect(bkgrd[i][0] + bkgrd[i][2], bkgrd[i][1] + bkgrd[i][3], 1.1*bkgrd[i][4]/5.75, 1.1*bkgrd[i][4]/5.75);
                
            }
            
        }
        

        pushMatrix();
        
        //translates y if high enough
        translate(0, -constrain(player[1] - 200, -10000, -50) - 50);
        
        player[6] = true; //up is open
        player[7] = true; //down is open
        player[8] = true; //left is open
        player[9] = true; //right is open
        
        //collision
        for (var i in blocks) {
            
            /**
            
            REMEMBER!
            
            0 - x
            1 - y
            2 - w
            3 - h
            
            4 to 7 = if sides are open
            
            */
            
            if (player[0] > (blocks[i][0] - 50) & player[0] < (blocks[i][0] + 50) & player[1] > (blocks[i][1] - 100) & player[1] < (blocks[i][1] + 100)) {
            
                if (player[1] > (blocks[i][1] - player[3] + 0.5) & player[1] < (blocks[i][1] + blocks[i][3] - 0.5) & player[0] < (blocks[i][0] + blocks[i][2]) & player[0] > (blocks[i][0] + blocks[i][2] - 4)) {
                    
                    player[8] = false; //left is closed
                    player[0] = blocks[i][0] + blocks[i][2];
                    player[4] = 0;
                    
                }
                if (player[1] > (blocks[i][1] - player[3] + 0.5) & player[1] < (blocks[i][1] + blocks[i][3] - 0.5) & player[0] < (blocks[i][0] - player[2] + 4) & player[0] > (blocks[i][0] - player[2])) {
                    
                    player[9] = false; //right is closed
                    player[0] = blocks[i][0] - player[2];
                    player[4] = 0;
                    
                }
                if (player[0] > (blocks[i][0] - player[2] + 0.5) & player[0] < (blocks[i][0] + blocks[i][2] - 0.5) & player[1] < (blocks[i][1] + blocks[i][3]) & player[1] > (blocks[i][1] + blocks[i][3] - 10)) {
                    
                    player[6] = false; //up is closed
                    player[5] = 0;
                    player[1] = blocks[i][1] + blocks[i][3];
                    
                }
                if (player[0] > (blocks[i][0] - player[2] + 0.5) & player[0] < (blocks[i][0] + blocks[i][2] - 0.5) & player[1] < (blocks[i][1]) & player[1] > (blocks[i][1] - player[3])) {
                    
                    player[7] = false; //down is closed
                    player[1] = blocks[i][1] - player[3];
                    player[5] = 0;
                    player[10] = false;
                    
                }
            
            }
            
        }
        
        //controls
        if (keys[UP] & !player[7] & player[6]) {
            
            player[5] = -7;
            player[10] = true;
            ran = false;
            
        }
        
        //movements are not sudden!
        if (keys[LEFT] & !keys[RIGHT]) {
            
            player[4] -= 0.3;
            
        } else if (keys[RIGHT] & !keys[LEFT]) {
            
            player[4] += 0.3;
            
        } else if (abs(player[4]) > 0.01) {//doesnt slice for inf
            
            player[4] /= 1.1;
            
        } else {
            
            player[4] = 0; //resets
            
        }
        
        //constraint on horizontal movement
        player[4] = constrain(player[4], -3, 3);
        
        //applies gravity!!!
        player[5] += 0.27;
        
        //moves player
        player[0] += player[4];
        player[1] += player[5];
        
        //constrains player to be on the screen
        player[0] = constrain(player[0], 0, width - player[2]);
        
        //if player fell off
        if (player[1] > 400) {
            
            //adds to deaths
            levelDeaths ++;
            
            //notications for achievements
            if (maxDeaths === 4 & levelDeaths === 5) {
                
                notify.push(["ACHIEVEMENT: Fall off a level 5 times", 500]);
                
            } else if (maxDeaths === 9 & levelDeaths === 10) {
                
                notify.push(["ACHIEVEMENT: Fall off a level 10 times", 500]);
                
            } else if (maxDeaths === 49 & levelDeaths === 50) {
                
                notify.push(["ACHIEVEMENT: Fall off a level 50 times", 500]);
                
            }
            
            //max times died in a level updates if this level is greater
            if (maxDeaths < levelDeaths) {
                
                maxDeaths = levelDeaths;
				localStorage.setItem("cyberchampion_maxDeaths", maxDeaths.toString());
                
            }
            
            //resetes player position and values
            player = [orig[0], orig[1], player[2], player[3], 0, 0, false, false, false, false, false];
            
        }
        
        //if he's on the edge
        if (player[0] === 0 | player[0] === (600 - player[2])) {
            
            player[4] = 0; //no x movement
            
        }
        
        if (usePosts) {
            
            //draws the doors
            for (var i in posts) {
                
                //brown post
                fill(138, 104, 44);
                rect(posts[i][0], posts[i][1], 40, 25, 2);
                rect(posts[i][0] + 15, posts[i][1] + 25, 10, 15);
                
                //white lines on post
                fill(255, 255, 255, 150);
                rect(posts[i][0] + 5, posts[i][1] + 6, 30, 2);
                rect(posts[i][0] + 5, posts[i][1] + 11, 30, 2);
                rect(posts[i][0] + 5, posts[i][1] + 16, 30, 2);
                
            }
            
        }
        
/**

CONFUSING ARRAYS!

 - the "doors" array has each of the doors
 - the "door" array has and x and a y of the door the player's on

*/
        
        for (var i in doors) {
            
            //draws doors if they're not end doors
            if (doors[i][2] !== "end") {
                
                //10 to the left, they're greater bigger than 40
                drawDoor(doors[i][0] - 10, doors[i][1]);
                
            }
            
        }
        
        //draws a darker door (only present if on door)
        drawDoor(door[0] - 10, door[1], true);
        
        if (!onDoor) {
            
            if (door[2] > 0) {
                
                door[2] -= 15; //decreases fade
                
            } else {
                
                door[0] = 0; //door data resets
                door[1] = 0;
                
            }
            
        } else {
            
            if (door[2] < 255) {
                
                door[2] += 15; //increases fade if on door
                
            }
            
        }
        
        var change = player[4] < 0 | (keys[LEFT] & player[8] === false);
        
        //draws the player
        fill(255, 255, 255);
        drawPlayer(player[0], player[1], player[2], player[3]);
        
        //draws blocks
        for (var i in blocks) {
            
            top = true;
            
            //goes through blocks to see if anything is directly above it
            for (var j in blocks) {
                
                if (i !== j & blocks[i][0] === blocks[j][0] & blocks[i][1] === (blocks[j][1] + 40)) {
                    
                    top = false;
                    
                }
                
            }
            
            //if the block is within the y translate
            if (blocks[i][1] > -(-constrain(player[1] - 200, -10000, -50) - 50) - 50 & blocks[i][1] < -(-constrain(player[1] - 200, -10000, -50) - 50) + 450) {
                
                if (lowGraphics) {
                    
                    //basic block
                    fill(147, 204, 196); //light blue background
                    noStroke();
                    
                    rect(blocks[i][0] - 2, blocks[i][1] - 2, 44, 44);
                    
                } else {
                    
                    //draws a more complex block
                    drawBlock(blocks[i][0], blocks[i][1]);
                    
                }
                
            }
            
        }
        
        onDoor = false;
        
        for (var i in confetti) {
            
            //defined color
            fill(confetti[i][5]);
            noStroke();
            
            //within the y translate
            if (confetti[i][1] > -(-constrain(player[1] - 200, -10000, -50) - 50) - 50 & confetti[i][1] < -(-constrain(player[1] - 200, -10000, -50) - 50) + 450) {
                
                pushMatrix();
                
                //translate and rotate around
                translate(confetti[i][0],confetti[i][1]);
                rot(frameCount*10 + i/10);
                
                //draws a rectangle centered at (0, 0)
                rect(-confetti[i][4], confetti[i][4]*-0.5, confetti[i][4]*2, confetti[i][4]);
                
                popMatrix();
                
            }
            
            //gravity
            confetti[i][3] += 0.04;
            
            //increases by x and y velocity
            confetti[i][0] += confetti[i][2];
            confetti[i][1] += confetti[i][3];
            
            //if its off the screen
            if (confetti[i][1] > 400 | confetti[i][0] < -100 | confetti[i][0] > 700) {
                
                //removes
                confetti.splice(i, 1);
                i ++;
                
            }
            
        }
        
        popMatrix();
        
        //white background block at bottom
        fill(255);
        rect(0, 400, 600, 200);
        
        fill(0, 0, 0);
        textAlign(CENTER, CENTER);
        textSize(15);
        
        //description text
        text(txt, 25, 400, 350, 200);
        
        fill(255, 255, 255, (startTime - frameCount) + 255);
        textSize(30);
        
        //title text
        text(ttxt, 0, 32, 600, 200);
        
        //pause button
        fill(255, 255, 255, 150);
        ellipse(550, 50, 40, 40);
        rect(542, 41, 6, 18);
        rect(553, 41, 6, 18);
        
        //black background at bottom right
        fill(0, 0, 0);
        rect(400, 400, 200, 200);
        
        //controls doors
        for (var i in doors) {
            
            if (doors[i][2] === "end") { //one of doors ends it
                
                ending = true; //triggers the ending
                
            } else {
                
                var colors = [color(255, 0, 255, 200), color(255, 0, 0, 200), color(255, 255, 0, 200), color(255, 153, 0, 200), color(0, 255, 0, 200), color(255, 0, 0, 200), color(255, 255, 255, 200)];
                
                //if one of the doors goes to beginning (win!)
                if (doors[i][2] === "THE BEGINNING" & frameCount % 3 === 0) {
                    
                    //add confetti going both ways
                    confetti.push([random(0, 500), -(-constrain(player[1] - 200, -10000, -50) - 50)-100, -random(1, 3), random(0, 4), random(1, 8), colors[floor(random(0, colors.length))]]);
                    confetti.push([random(100, 600), -(-constrain(player[1] - 200, -10000, -50) - 50)-100, random(1, 3), random(0, 4), random(1, 8), colors[floor(random(0, colors.length))]]);
                    
                }
                
                fill(i*10);
                textAlign(CENTER, CENTER);
                textSize(15);
                
                if (player[0] > (doors[i][0] - player[2] - 10) & player[0] < (doors[i][0] + 50) & player[1] > (doors[i][1] - player[3]) & player[1] < (doors[i][1] + 80)) {
                    
                    onDoor = true;
                    
                    if (door[0] !== doors[i][0]) {
                        
                        //sets door value
                        door = [doors[i][0], doors[i][1], 0];
                        
                    }
                    
                    //writes the door's description at bottom
                    fill(255, 255, 255);
                    text(doors[i][2], 415, 400, 170, 200);
                    
                }
                
            }
            
        }
        
        fill(255, 255, 255);
        
        if (!onDoor) {
            
            //if not on a door, no door description
            
            textAlign(CENTER, CENTER);
            textSize(15);
            text("Go to a door to choose what to do next!", 415, 400, 170, 200);
            
        }
        
        onPost = false;
        
        if (usePosts) {
            
            for (var i in posts) {
                
                //if player is on the post
                if (player[0] > (posts[i][0] - player[2]) & player[0] < (posts[i][0] + 40) & player[1] > (posts[i][1] - player[3]) & player[1] < (posts[i][1] + 40)) {
                    
                    //sets for reference
                    onPost = true;
                    
                    //brown overlay at bottom
                    fill(138, 104, 44, 230);
                    rect(0, 400, 400, 200);
                    
                    textAlign(CENTER, CENTER);
                    
                    //title
                    fill(255);
                    textSize(25);
                    text(posts[i][2], 200, 420);
                    
                    textAlign(LEFT, TOP);
                    
                    //description
                    textSize(15);
                    text(posts[i][3], 15, 435, 370, 225);
                    
                }
                
            }
            
        }
        
        //if theres a tutorial
        if (tutorial) {
            
            //shade over the game to focus the player
            fill(0, 0, 0, 100);
            rect(0, 0, width, height);
            
            strokeCap(ROUND);
            
            //different stages of the tutorial
            switch (stage) {
                
                case 0:
                    
                    strokeWeight(5);
                    stroke(0);
                    noFill();
                    
                    //outlines the level description
                    //(if the post text isnt there!)
                    if (!onPost) {
                        
                        rect(15, 415, 370, 170);
                        
                    }
                    
                    //line to level description
                    stroke(255);
                    line(180, 240, 180, 380);
                    
                    //message box, semi transparent
                    fill(0, 0, 0, 200);
                    rect(20, 110, 300, 120);
                    
                    noStroke();
                    
                    fill(255);
                    textAlign(CENTER, CENTER);
                    text("Each level has a description of the scenario that you face.\n\nUse the arrow keys to move to a door and see what decision it represents.", 20, 70, 300, 200);
                    
                    //once the player goes to a door, move forward in the tutorial
                    if (onDoor) {
                        
                        stage ++;
                        
                    }
                    
                    break;
                case 1:
                    
                    strokeWeight(5);
                    stroke(255, 255, 255);
                    noFill();
                    
                    //outlines door description text
                    rect(415, 415, 170, 170);
                    
                    //line to door text
                    stroke(255, 255, 255);
                    line(480, 240, 480, 380);
                    
                    //message box
                    fill(0, 0, 0, 200);
                    rect(280, 110, 300, 120);
                    
                    noStroke();
                    
                    fill(255);
                    textAlign(CENTER, CENTER);
                    text("When you go to a door, you can see a description of its decision.\n\nIf you think that's the right choice, then click any key to enter that door.", 285, 70, 290, 200);
                    
                    //if the level changed (from 0 start)
                    if (levelNum !== 0) {
                        
                        //if there are no posts, speed forward
                        if (!usePosts) {
                            
                            stage = 4;
                            stageT = 700; //timer,next stage=last
                            
                        } else {
                            
                            //if posts, go forward like normal
                            stage ++;
                            
                        }
                        
                    } else if (!onDoor) {
                        
                        //if the player leaves the door, go back one stage (give previous instructions)
                        stage --;
                        
                    }
                    
                    break;
                case 2:
                    
                    strokeWeight(5);
                    stroke(255, 255, 255);
                    noFill();
                    
                    pushMatrix();
                    
                    translate(0, (-constrain(player[1] - 200, -10000, -50) - 50));
                    //points to an object that's affected by translate
                    //needs to be translated with it
                    
                    stroke(255, 255, 255);
                    
                    //arrows to the post on 3 levels
                    if (levelNum === 0) {
                        
                        line(335, 125, 418, 125);
                        line(420, 265, 420, 127);
                        
                    } else if (levelNum === 1) {
                        
                        line(335, 90, 380, 90);
                        
                    } else if (levelNum === 2) {
                        
                        line(180, 305, 180, 195);
                        
                    }
                    
                    //the text box
                    fill(0, 0, 0, 200);
                    rect(20, 60, 300, 120);
                    
                    noStroke();
                    
                    //actual text on text box 
                    fill(255);
                    textAlign(CENTER, CENTER);
                    text("You'll come across a few wooden posts while you run around. Go to them to see what they have to tell you! You can also hide them in the settings.", 25, 20, 290, 200);
                    
                    //if player went to the post, next stage
                    if (onPost) {
                        
                        stage ++;
                        
                    }
                    
                    popMatrix();
                    
                    stageT = 700; //resets stageT for later stage
                    
                    break;
                case 3:
                    
                    strokeWeight(5);
                    stroke(255, 255, 255, stageT);
                    noFill();
                    
                    //line to post info
                    line(180, 240, 180, 390);
                    
                    //textbox, with outline
                    fill(0, 0, 0, constrain(stageT, 0, 200));
                    rect(80, 110, 300, 120);
                    
                    noStroke();
                    
                    fill(255, 255, 255, stageT);
                    textAlign(CENTER, CENTER);
                    text("When you go to a post, you can see all the information it holds.\n\nYou're ready to go! If you need the tutorial again, go to settings and turn it on.", 85, 70, 290, 200);
                    
                    if (!onPost & stageT > 255) { //if you went on the post when the timer was above 255
                        
                        stage --; //back a stage
                        
                    } else if (stageT < 0) { //timer is 0
                        
                        //tutorial ends
                        stage = 0;
                        tutorial = false;
						localStorage.setItem("cyberchampion_tutorial", "false");
                        
                    } else {
                        
                        //counts down the timer
                        stageT -= 4;
                        
                    }
                    
                    break;
                case 4:
                    
                    strokeWeight(5);
                    stroke(255, 255, 255, stageT);
                    noFill();
                    
                    rect(415, 415, 170, 170);
                    
                    fill(0, 0, 0, constrain(stageT, 0, 200));
                    rect(280, 110, 300, 120);
                    
                    noStroke();
                    
                    fill(255, 255, 255, stageT);
                    textAlign(CENTER, CENTER);
                    text("You're ready to go! If you need the tutorial again at any time, go to settings and turn it on.", 285, 70, 290, 200);
                    
                    if (stageT < 0) {
                        
                        stage = 0;
                        tutorial = false;
						localStorage.setItem("cyberchampion_tutorial", "false");
                        
                    } else {
                        
                        stageT -= 4;
                        
                    }
                    
                    break;
                
            }
            
        }
        
        //if one of the doors indicates that it's an ending room
        if (ending) {
            
            //move through the end transition
            endTransition += 5;
            
            fill(0);
            
            //closes it up
            for (var i = 570; i >= 0; i -= 30) {
                
                rect(600 - endTransition*3 + i, i, endTransition*3 - i, 30);
                rect(0, i, endTransition*3 - (570 - i), 30);
                
            }
            
            //once transition is complete
            if (endTransition > 200) {
                
                //switch page
                page = "end";
                endTime = frameCount;
                
                //set the end messages at game over page
                switch (levelNum) {
            
                    case 7:
                        endText = "You didn't download the game, you downloaded a virus which took control of your computer! You were on a PHISHING WEBSITE!\n\nYou were a victim of what is known as a phishing website. They pretend to be a real website to lure you in, and when you access their page, there can be dangerous links and viruses!\n\nHOW CAN I PREVENT THIS\n\nYou were supplied with a few clues. Look out for these:\n - The site takes a while to load\n - The site looks weird or suspicious\n - The url doesn't seem right (check for things like a 0 replacing an O)";
                        break;
                    case 9:
                        endText = "Turns out, the spammer was a 24 year old who had nothing better to do with his time. He hacked into your computer and took complete control. After important files were deleted, you couldn't use your computer anymore!\n\nYou were a victim of an internet troll, who is a person who has nothing better to do than to mess with others through the internet. Sadly, they're very common and they mess with people a lot. Just understand that the average age of a gamer is 31 years old, so you can't expect to outsmart them.\n\nHOW CAN I PREVENT THIS\n\n - REPORT THEM!\n - Just ignore them";
                        break;
                    case 12:
                        endText = "The website you went for to get the hacks unleashed a virus on your computer. All you did was go to the website!\n\nSites can be made so that a virus is downloaded upon entry! It's hard to know which sites do that, so only go to well known sites that you trust. Website in another language? Stay away. You've never heard of it? Don't even think about going there!\n\nHOW CAN I PREVENT THIS\n\n - If you haven't heard of a site, google them! Something like \"Is iwillhackyou.com trustable?\" can help you a lot!\n - Don't try and do something unethical. If a site helps you hack or use a virus, then it might be trying to hack you!";
                        break;
                    case 16:
                        endText = "This information you gave was used against you. Here's how: \n\n - Emails: Hackers can send you viruses or try to get your password through phishing emails. They can also learn a lot about you like where you live!\n\nWith this information, the hacker would continue to try and hack you until the end of the end. Good luck with that...\n\nHOW CAN I PREVENT THIS\n\n - If anything on the internet seems too good to be true, it probably is, and you shouldn't trust it!\n - Never give any Personally Identifiable Information (PII) unless you trust the source, hackers WILL use it against you!";
                        break;
                    case 19:
                        endText = "This information you gave was used against you. Here's how: \n\n - Emails: Hackers can send you viruses or try to get your password through phishing emails. They can also learn a lot about you like where you live!\n - Credit Card Info: Combined with your name, hackers can spend your money freely!\n\nWith this information, the hacker was able to take your money and your identity.\n\nHOW CAN I PREVENT THIS\n\n - If anything on the internet seems too good to be true, it probably is, and you shouldn't trust it!\n - Never give any Personally Identifiable Information (PII) unless you trust the source, hackers WILL use it against you!";
                        break;
                    case 26:
                        endText = "The cybercriminal who sent you the friend request ended up impersonating you with all the information you had in your \"About.\" He was able to hack a bunch of your friends and ruined your reputation. \n\nIdentity theft is much easier once you are a \"friend\" on Facebook. In addition, that person could have been a stalker. \n\nHOW CAN I PREVENT THIS: \n - Make sure all your Facebook friends are people you know personally. \n - Adding someone on Facebook is like inviting them to your house, make sure you trust them!";
                        break;
                    case 28:
                        endText = "You saw no harm in putting all phone number and where you live, and for a while it was fine. Eventually, though, some random person found your phone number and started sending you weird and annoying phone calls. A month later, your house was robbed. Your parents may have thought they were just unlucky, but you knew.\n\nPutting information like your phone number and where you live out on the public for anyone to see is always a bad idea! It makes you an easy target for troublemakers and stalkers.\n\nHOW CAN I PREVENT THIS:\n - Just don't put personal information on the internet. It's that simple";
                        break;
                    case 30:
                        endText = "When you come home from your vacation, a bunch of things are gone. Your TV, your computer, your router!!! \n\nIf you tell people that you are away from home, and where you live, then you're just inviting burglars to your home! After your posts, your home was just a sitting duck, waiting to be robbed. \n\nAlso, don't post other people's news unless they ask you too. If they didn't post it, there's a reason, and it's your job to respect that.\n\nHOW I CAN PREVENT THIS:\n - Don't post that you're away from home\n - Don't post other people's news";
                        break;
                    case 31:
                        endText = "You've got to be kidding. You lost all of your money and you were a victim of identity theft.\n\nWith your credit card information, those who see it will have most of the information they need to use you credit card online. Finally, don't post things that are too personal! Social media is a treasure chest of information for hackers.\n\nHOW CAN I PREVENT THIS:\n - Never post your social security number\n - Don't ever take a picture of your credit card, even if it's from afar.";
                        break;
                    case 33:
                        endText = "The link downloaded a virus on your computer. Can you trust no one in the cyberworld?\n\nNEVER click links in emails! They can lead you to a page asking for your information, or they could unleash a virus! You even noticed this link wasn't to a site you recognized, so DON'T GO THERE! \n\nEven if you trust the person sending the email, know that a hacker could have taken control of their email. Ask your parents, or talk the them IN PERSON! That's the best way to know!\n\nHOW CAN I PREVENT THIS:\n - Don't click links in emails!\n - If you have to, confirm that it was them who sent it";
                        break;
                    case 35:
                        endText = "You were reported for cyberbullying and in the end, you both got in trouble.\n\nYou have stooped to the level of your enemy. Now, both of you are cyberbullies. Take the high road next time.\n\nHOW CAN I PREVENT THIS:\n - Don't be mean on the internet (or in real life)";
                        break;
                    case 38:
                        endText = "When you started the video call, the person on the other side wasn't your friend, he was some old creep. I guess you accidentally add him as a friend. Before he could say anything, you end the video call. A traumatic experience to say the least.\n\nVideo calls are face to face , so you should be cautious about them. That \"friend\" just asked you for a video call without explanation. A little paranoia is always good.\n\nHOW CAN I PREVENT THIS:\n - Be careful in who you send friend requests\n - Don't just accept a video call, or friend request, or anything. Think first.";
                        break;
                    case 41:
                        endText = "That person who was bothering you just made a mistake, and you said a lot of mean things that you regretted later. You delete the post eventually, but the damage is done. Your friends always remember you as the person who always gets super angry. Not so good for your reputation... \n\nHOW CAN I PREVENT THIS:\n - Don't write when you're angry, you WILL regret it!\n - Remember that once something is on the internet, it can be reposted, quoted, anything. It's public";
                        break;
                    case 43:
                        endText = "Your friend gets really mad at you for posting the pictures because they looked pretty weird in them. You argue that they always look like that. Friendships end.\n\nHOW CAN I PREVENT THIS:\n - Don't post embarrassing pictures. Not cool.\n - Ask someone before posting pictures of them! It can be reshared and then that photo goes everywhere. Just don't.";
                        break;
                    case 46:
                        endText = "Your friend gets SUPER DUPER mad at you. They didn't want that picture on the internet and you posted it without their permission! It's a crime in their eyes. You delete it, but things on the internet are never truly gone...\n\nHOW CAN I PREVENT THIS:\n - If someone doesn't want their picture on the internet, you need to respect that.\n - Remember once you post something, it leaves a \"digital print\" that anybody can find if they look hard enough.";
                        break;
                    case 52:
                        endText = "You plugged in the USB and a pop up appeared saying it would get rid of your data if you didn't pay a bunch of money! You don't want to, and you lose everything.\n\nThat USB had some ransomware on it, meaning it asked for money. It is common for a USB to have something bad on it, so don't trust them!\n\nHOW CAN I PREVENT THIS:\n - If you find a USB, ask if it's someone's and if not, throw it away\n - Always back up your data so that you can get it back if attacked by ransomware";
                        break;
                    case 55:
                        endText = "You clicked the pop up and when you tried to install the antivirus, you installed a virus!\n\nAntivirus companies will never advertise with a pop up! Don't be tricked!\n\nHOW CAN I PREVENT THIS:\n - Pop ups are usually bad!\n - Install antiviruses from the official site, not from a pop up";
                        break;
                    case 57:
                        endText = "You didn't think much of it and for a while it didn't affect you, but eventually a hacker was able to get into your computer because you DIDN'T UPDATE! How so?!\n\nWhen a operating system like Windows has an update for you, it's addressing many security holes that hackers can use to get into you system! Trust that they know what's best!\n\nHOW CAN I PREVENT THIS:\n- Always update! It might take a while, but it's ALWAYS worth it.";
                        break;
                    case 59:
                        endText = "Eventually, you went on a weird site and some ransomware got on your computer. You lost all your data!\n\nRansomware attacks are when a virus gets on your computer and will delete you data if you don't give the hacker money. They are very serious!\n\nHOW CAN I PREVENT THIS:\n - Frequently back up your data\n - Use tools like Carbonite and Comodo Backup. There's lots of free options!";
                        break;
                    case 61:
                        endText = "When your computer starts up, the virus runs and deletes important files. Restarting won't always fix things.\n\nIf the virus makes itself start when your computer starts up, then restarting won't help. If that's the only option you see, though, it might fix things.\n\nHOW CAN I PREVENT THIS:\n - Always have antivirus, it should be your go to option!";
                        break;
                    case 62:
                        endText = "While you were ignoring the virus on your computer, the hacker was able to get into your computer remotely and steal all your secrets!\n\nYou can't just sit around and do nothing if your computer might have a virus! Run an antivirus. Ask someone for help! DO SOMETHING.\n\nHOW CAN I PREVENT THIS:\n - Always have antivirus, they can find and remove threats to your system!";
                        break;
                    case 66:
                        endText = "Your phone gets locked out and demands money to unlock! The hacker now has access to all the information on your phone! There's so many things on phones: email, contacts, personal information.\n\nYour phone is a mini-computer. Like a computer, it needs to be up to date to be secure. New updates help fix security holes, so it's worth a wait.\n\nHOW CAN I PREVENT THIS:\n - Update right away!";
                        break;
                    case 70:
                        endText = "Your bank account starts losing money. The hacker is buying things with your credit card! You cancel that credit card, but you've lost money already.\n\nYou got tricked by social engineering. The people calling you used a sense of urgency to convince you to give them the information without thinking!\n\nHOW CAN I PREVENT THIS:\n - Never make big decisions quickly!\n - NEVER give away passwords or your credit card number";
                        break;
                    case 72:
                        endText = "The old apps build up and eventually there are a lot of old apps. One of them keeps crashing your phone and you have no idea which! You spend an hour cleaning through the apps.\n\nAnother problem with apps you don't use is that they could have your personal information, or they could have a virus. Less apps means less paths for a hacker to get to your phone.\n\nHOW CAN I PREVENT THIS:\n - Clean out old apps as soon as possible\n - Limit the permissions apps have";
                        break;
                    default:
                        endText = "Bad move...";
                        break;
                }
                
            }
            
        }
        
        //notifications
        for (var i in notify) {
            
            ///calculates how big the notif will be
            var upper = 0;
            for (var j in notify[i][0]) {
                
                if (notify[i][0][j] === notify[i][0][j].toUpperCase()) {
                    
                    upper ++;
                    
                }
                
            }
            
            var w = notify[i][0].length*8 + upper*2.5;
            
            textSize(18);
            
            //draws the surrounding text box
            fill(255, 255, 255, notify[i][1]);
            rect(300 - w/2 - 20, 20, w + 40, 40);
            
            noStroke();
            displayText = false; //so the text appears
            
            //x, y, size, gold, message
            drawMedal(300 - w/2 + 8, 40, 20, true, "", i);
            
            //the notify text
            fill(0, 0, 0, notify[i][1]);
            text(notify[i][0], 320, 40);
            
            //fades away
            notify[i][1] -= 2;
            
            //if its less than 0 (disappeared)
            if (notify[i][1] < 0) {
                
                //remove from array
                notify.splice(i, 1);
                
            }
            
        }
        
    }
    
    if (levelTransition > 0) {
        
        //deals with the screen change fade in
        noStroke();
        fill(0, 0, 0, levelTransition);
        rect(0, 0, width, height);
        levelTransition -= 10;
        
    }
    
    if (frameCount % 20 === 0) {
        
        //t = (1000/(millis() - pmillis)).toFixed(1);
        
    }
    fill(255);
    textSize(15);
    //text(t, 20, 15); //uncomment if you want frameRate to appear
    pmillis = millis();
    
};

}
}}
    // Get the canvas that Processing-js will use
    var canvas = document.getElementById("mycanvas"); 
    // Pass the function sketchProc (defined in myCode.js) to Processing's constructor.
    var processingInstance = new Processing(canvas, sketchProc); 
 </script>
</html>
